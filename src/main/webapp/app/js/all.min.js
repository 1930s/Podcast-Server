angular.module("podcastApp",["podcast.controller","podcast.filters","podcast.services","podcast.partial","ngRoute","cfp.hotkeys","restangular","AngularStomp","LocalStorageModule","ngAnimate","truncate","ui.bootstrap","angular-loading-bar","ngTagsInput","notification"]).config(["$routeProvider",function(t){var n=[["h","Goto Home",function(t){t.preventDefault(),window.location.href="#/items"}],["s","Goto Search",function(t){t.preventDefault(),window.location.href="#/item/search"}],["p","Goto Podcast List",function(t){t.preventDefault(),window.location.href="#/podcasts"}],["d","Goto Download List",function(t){t.preventDefault(),window.location.href="#/download"}]];t.when("/podcasts",{templateUrl:"html/podcasts-list.html",controller:"PodcastsListCtrl",hotkeys:n}).when("/podcast/add",{templateUrl:"html/podcast-add.html",controller:"PodcastAddCtrl",hotkeys:n}).when("/podcast/:podcastId",{templateUrl:"html/podcast-detail.html",controller:"PodcastDetailCtrl",hotkeys:[["r","Refresh","refreshItems()"],["f","Force Refresh","refresh()"],["l","List of Items","tabs[0].active = true"],["m","Modification of Podcast","tabs[1].active = true"]].concat(n)}).when("/items",{templateUrl:"html/items-list.html",controller:"ItemsListCtrl",reloadOnSearch:!1,hotkeys:[["right","Next page","currentPage = currentPage+1; changePage();"],["left","Previous page","currentPage = currentPage-1; changePage();"]].concat(n)}).when("/item/search",{templateUrl:"html/items-search.html",controller:"ItemsSearchCtrl",reloadOnSearch:!1,hotkeys:[["right","Next page","currentPage = currentPage+1; changePage();"],["left","Previous page","currentPage = currentPage-1; changePage();"]].concat(n)}).when("/item/:itemId",{templateUrl:"html/item-detail.html",controller:"ItemDetailCtrl",hotkeys:n}).when("/download",{templateUrl:"html/download.html",controller:"DownloadCtrl",hotkeys:n}).otherwise({redirectTo:"/items"})}]).config(["cfpLoadingBarProvider",function(t){t.includeSpinner=!1}]).config(["RestangularProvider",function(t){t.setBaseUrl("/api/")}]),angular.module("podcast.controller",[]),angular.module("podcast.filters",[]).filter("htmlToPlaintext",function(){return function(t){return String(t).replace(/<[^>]+>/gm,"")}});var podcastServices=angular.module("podcast.services",[]);podcastServices.factory("DonwloadManager",["Restangular",function(t){var n={};return n.download=function(n){t.one("item").customGET(n.id+"/addtoqueue")},n.stopDownload=function(n){t.one("task").customPOST(n.id,"downloadManager/stopDownload")},n.toggleDownload=function(n){t.one("task").customPOST(n.id,"downloadManager/toogleDownload")},n.stopAllDownload=function(){t.one("task").customGET("downloadManager/stopAllDownload")},n.pauseAllDownload=function(){t.one("task").customGET("downloadManager/pauseAllDownload")},n.restartAllCurrentDownload=function(){t.one("task").customGET("downloadManager/restartAllCurrentDownload")},n.removeFromQueue=function(n){t.one("task").customDELETE("downloadManager/queue/"+n.id)},n.updateNumberOfSimDl=function(n){t.one("task").customPOST(n,"downloadManager/limit")},n.dontDonwload=function(n){t.one("task").customDELETE("downloadManager/queue/"+n.id+"/andstop")},n}]),angular.module("podcast.controller").controller("DownloadCtrl",["$scope","$http","$routeParams","Restangular","ngstomp","DonwloadManager","$log","Notification","$window",function(t,n,e,o,a,l,s,i,c){t.items=o.all("task/downloadManager/downloading").getList().$object,t.waitingitems=[],t.activeNotification={state:"Notification"in c&&"granted"!=c.Notification.permission,manuallyactivate:i.requestPermission},t.refreshWaitingItems=function(){var n=t.waitingitems||o.all("task/downloadManager/queue");n.getList().then(function(n){t.waitingitems=n})},o.one("task/downloadManager/limit").get().then(function(n){t.numberOfSimDl=parseInt(n)}),t.getTypeFromStatus=function(t){return"Paused"===t.status?"warning":"info"},t.updateNumberOfSimDl=l.updateNumberOfSimDl,t.download=l.download,t.stopDownload=l.stopDownload,t.toggleDownload=l.toggleDownload,t.stopAllDownload=l.stopAllDownload,t.pauseAllDownload=l.pauseAllDownload,t.restartAllCurrentDownload=l.restartAllCurrentDownload,t.removeFromQueue=l.removeFromQueue,t.dontDonwload=l.dontDonwload,t.wsClient=a("/download",SockJS),t.wsClient.connect("user","password",function(){t.wsClient.subscribe("/topic/download",function(n){var e=JSON.parse(n.body),o=_.find(t.items,{id:e.id});switch(e.status){case"Started":case"Paused":o?_.assign(o,e):t.items.push(e);break;case"Finish":new i("Téléchargement terminé",{body:e.title,icon:e.cover.url,delay:5e3});case"Stopped":o&&_.remove(t.items,function(t){return t.id===o.id})}}),t.wsClient.subscribe("/app/waitingList",function(n){t.waitingitems=JSON.parse(n.body)}),t.wsClient.subscribe("/topic/waitingList",function(n){var e=JSON.parse(n.body);angular.forEach(e,function(n){var e=_.findIndex(t.waitingitems,{id:n.id});-1===e&&t.waitingitems.push(n)}),angular.forEach(t.waitingitems,function(n,o){var a=_.findIndex(e,{id:n.id});-1===a&&t.waitingitems.splice(o,1)})})}),t.$on("$destroy",function(){t.wsClient.disconnect(function(){})})}]),angular.module("podcast.controller").controller("ItemDetailCtrl",["$scope","$routeParams","$http","Restangular","ngstomp","DonwloadManager",function(t,n,e,o,a,l){var s=n.itemId;o.one("item",s).get().then(function(n){t.item=n}).then(function(){t.item.one("podcast").get().then(function(n){t.item.podcast=n,t.wsClient=a("/download",SockJS),t.wsClient.connect("user","password",function(){t.wsClient.subscribe("/topic/podcast/"+n.id,function(n){var e=JSON.parse(n.body);e.id==t.item.id&&_.assign(t.item,e)})}),t.$on("$destroy",function(){t.wsClient.disconnect(function(){})})})}),t.remove=function(n){o.one("item",n.id).remove().then(function(){t.podcast.items=_.reject(t.podcast.items,function(t){return t.id==n.id})})},t.download=l.download,t.stopDownload=l.stopDownload,t.toggleDownload=l.toggleDownload}]),angular.module("podcast.controller").controller("ItemsListCtrl",["$scope","$http","$routeParams","$cacheFactory","Restangular","ngstomp","DonwloadManager","$log","$location",function(t,n,e,o,a,l,s,i,c){var r=o.get("paginationCache")||o("paginationCache"),d=12;t.changePage=function(){t.currentPage=t.currentPage<1?1:t.currentPage>Math.ceil(t.totalItems/d)?Math.ceil(t.totalItems/d):t.currentPage,a.one("item/pagination").get({size:d,page:t.currentPage-1,direction:"DESC",properties:"pubdate"}).then(function(n){t.items=n.content,t.totalItems=parseInt(n.totalElements),r.put("currentPage",t.currentPage),c.search("page",t.currentPage)})},t.$on("$routeUpdate",function(){t.currentPage!==c.search().page&&(t.currentPage=c.search().page,t.changePage())}),t.totalItems=Number.MAX_VALUE,t.maxSize=10,t.currentPage=r.get("currentPage")||1,t.changePage(),t.download=s.download,t.stopDownload=s.stopDownload,t.toggleDownload=s.toggleDownload,t.wsClient=l("/download",SockJS),t.wsClient.connect("user","password",function(){t.wsClient.subscribe("/topic/download",function(n){var e=JSON.parse(n.body),o=_.find(t.items,{id:e.id});o&&_.assign(o,e)})}),t.$on("$destroy",function(){t.wsClient.disconnect(function(){})})}]),angular.module("podcast.controller").controller("ItemsSearchCtrl",["$scope","$http","$routeParams","$cacheFactory","$location","Restangular","ngstomp","DonwloadManager",function(t,n,e,o,a,l,s,i){var c=l.all("tag"),r=12;t.loadTags=function(t){return c.post(null,{name:t})};var d=o.get("paginationCache")||o("paginationCache");t.changePage=function(){t.currentPage=t.currentPage<1?1:t.currentPage>Math.ceil(t.totalItems/r)?Math.ceil(t.totalItems/r):t.currentPage,l.one("item/pagination/tags").post(null,{tags:t.searchTags,size:r,page:t.currentPage-1,direction:"DESC",properties:"pubdate"}).then(function(n){t.items=n.content,t.totalItems=parseInt(n.totalElements),d.put("currentSearchPage",t.currentPage),a.search("page",t.currentPage)})},t.$on("$routeUpdate",function(){t.currentPage!==a.search().page&&(t.currentPage=a.search().page,t.changePage())}),t.totalItems=Number.MAX_VALUE,t.maxSize=10,t.currentPage=d.get("currentSearchPage")||1,t.changePage(),t.download=i.download,t.stopDownload=i.stopDownload,t.toggleDownload=i.toggleDownload,t.wsClient=s("/download",SockJS),t.wsClient.connect("user","password",function(){t.wsClient.subscribe("/topic/download",function(n){var e=JSON.parse(n.body),o=_.find(t.items,{id:e.id});o&&_.assign(o,e)})}),t.$on("$destroy",function(){t.wsClient.disconnect(function(){})})}]),angular.module("podcast.controller").controller("PodcastAddCtrl",["$scope","Restangular",function(t,n){var e=n.all("podcast"),o=n.all("tag");t.podcast={hasToBeDeleted:!0,cover:{height:200,width:200}},t.loadTags=function(t){return o.post(null,{name:t})},t.changeType=function(){t.podcast.type=/beinsports\.fr/i.test(t.podcast.url)?"BeInSports":/canalplus\.fr/i.test(t.podcast.url)?"CanalPlus":/jeuxvideo\.fr/i.test(t.podcast.url)?"JeuxVideoFR":/parleys\.com/i.test(t.podcast.url)?"Parleys":/youtube\.com/i.test(t.podcast.url)?"Youtube":t.podcast.url.length>0?"RSS":"Send"},t.save=function(){e.post(t.podcast)}}]),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/download.html",'<!--<div class="jumbotron">-->\n    <!--<div class="container">-->\n        <!--<h1>Téléchargement</h1>-->\n    <!--</div>-->\n<!--</div>-->\n\n<div class="container downloadList">\n\n    <div class="row form-horizontal" style="margin-top: 15px;">\n        <div class="col-xs-offset-1 col-md-offset-1 col-sm-offset-1 col-lg-offset-1 form-group col-md-6 col-lg-6 col-xs-6 col-sm-6 ">\n            <label class="pull-left control-label">Téléchargements simultanés</label>\n            <div class="col-md-3 col-lg-3 col-xs-3 col-sm-3">\n                <input ng-model="numberOfSimDl" ng-change="updateNumberOfSimDl(numberOfSimDl)" type="number" class="form-control" placeholder="Number of download">\n            </div>\n        </div>\n        <span>\n            <a ng-show="activeNotification.state" ng-click="activeNotification.manuallyactivate()" class="btn btn-primary">Activer Notification</a>\n        </span>\n        <div class="btn-group pull-right">\n            <button ng-click="restartAllDownload()" type="button" class="btn btn-default">Démarrer</button>\n            <button ng-click="pauseAllDownload()" type="button" class="btn btn-default">Pause</button>\n            <button ng-click="stopAllDownload()" type="button" class="btn btn-default">Stop</button>\n        </div>\n    </div>\n    <div class="media"  ng-repeat="item in items track by item.id | orderBy:progression" >\n\n        <div class="buttonList pull-right">\n            <br/>\n            <button ng-click="toggleDownload(item)" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-play"></i><i class="glyphicon glyphicon-pause"></i></button>\n            <button ng-click="stopDownload(item)" type="button" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-stop"></span></button>\n        </div>\n\n        <a class="pull-left" ng-href="#/item/{{item.id}}">\n            <img ng-src="{{item.cover.url}}" width="100" height="100" style="">\n        </a>\n\n        <div class="media-body">\n            <h5 class="media-heading">{{item.title | characters:100}}</h5>\n            <br/>\n            <progressbar class="progress-striped active" animate="false" value="item.progression" type="{{ getTypeFromStatus(item) }}">{{item.progression}}%</progressbar>\n        </div>\n    </div>\n\n\n    <br/>\n\n    <accordion close-others="true">\n        <accordion-group heading="Liste d\'attente" is-open="false">\n\n            <div class="media"  ng-repeat="item in waitingitems" >\n\n                <div class="pull-right">\n                    <button ng-click="removeFromQueue(item)" type="button" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-minus"></i></button>\n                    <button ng-click="dontDonwload(item)" type="button" class="btn btn-danger btn-sm"><i class="glyphicon glyphicon-stop"></i></button>\n                </div>\n\n                <a class="pull-left" ng-href="#/item/{{item.id}}">\n                    <img ng-src="{{item.cover.url}}" width="100" height="100" style="">\n                </a>\n\n                <div class="media-body">\n                    <h4 class="media-heading">{{item.title | characters:100}}</h4>\n                </div>\n            </div>\n\n        </accordion-group>\n    </accordion>\n\n\n</div>')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/item-detail.html",'\n<div class="container">\n\n    <br/>\n    <ol class="breadcrumb">\n        <li><a href="/#/podcasts">Podcasts</a></li>\n        <li><a ng-href="/#/podcast/{{ item.podcast.id }}"> {{ item.podcast.title }}</a></li>\n        <li class="active">{{ item.title }}</li>\n    </ol>\n\n    <div>\n        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">\n            <div class="thumbnail">\n                <a ng-href="{{ item.localUrl || item.url }}">\n                    <img class="center-block" ng-src="{{item.cover.url}}" width="200" height="200">\n                </a>\n\n                <div class="caption">\n\n                    <div class="buttonList text-center">\n                        <!-- Téléchargement en cours -->\n                                <span ng-if="item.status == \'Started\' || item.status == \'Paused\'" >\n                                    <button ng-click="toggleDownload(item)" type="button" class="btn btn-primary "><i class="glyphicon glyphicon-play"></i><i class="glyphicon glyphicon-pause"></i></button>\n                                    <button ng-click="stopDownload(item)" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-stop"></span></button>\n                                </span>\n\n                        <!-- Lancer le téléchargement -->\n                        <button ng-click="download(item)" ng-if="(item.status != \'Started\' && item.status != \'Paused\' ) && item.localUrl == null " type="button" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span></button>\n\n                        <!-- Accéder au fichier -->\n                        <a ng-href="{{ item.url }}" ng-if="item.localUrl == null" type="button" class="btn btn-info"><span class="glyphicon glyphicon-globe"></span></a>\n                        <a ng-href="{{ item.localUrl }}" ng-if="item.localUrl != null" type="button" class="btn btn-success"><span class="glyphicon glyphicon-play"></span></a>\n\n                        <!-- Supprimer l\'item -->\n                        <button ng-click="remove(item)" ng-if="(item.status != \'Started\' && item.status != \'Paused\' )" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">\n            <br/>\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <h3 class="panel-title">{{ item.title }}</h3>\n                </div>\n                <div class="panel-body">\n                    {{ item.description | htmlToPlaintext }}\n                </div>\n                <div class="panel-footer">Date de publication : <strong>{{item.pubdate | date : \'dd/MM/yyyy à HH:mm\' }}</strong></div>\n            </div>\n        </div>\n\n    </div>\n</div>\n\n')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/items-list.html",'<div class="container item-listing">\n    <!--<div class="col-xs-11 col-sm-11 col-lg-11 col-md-11">-->\n    <div class="text-center">\n        <pagination items-per-page="12" max-size="10" boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="changePage()" class="pagination pagination-centered" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>\n    </div>\n        <div class="row">\n            <div ng-repeat="item in items track by item.id" class="col-xs-6 col-sm-4 col-md-3 col-lg-3 itemInList">\n                <div class="box">\n                    <div class="">\n                        <a ng-href="#/item/{{item.id}}" >\n                            <img ng-src="{{ item.cover.url }}" alt="" class="img-rounded img-responsive" />\n                        </a>\n                    </div>\n                    <div class="text-center clearfix itemTitle" >\n                        <p>\n                            {{ item.title | characters:50 }}\n                        </p>\n                    </div>\n                    <div class="text-center row-button">\n                        <span ng-if="item.status == \'Started\' || item.status == \'Paused\'" >\n                                        <button ng-click="toggleDownload(item)" type="button" class="btn btn-primary "><i class="glyphicon glyphicon-play"></i><i class="glyphicon glyphicon-pause"></i></button>\n                                        <button ng-click="stopDownload(item)" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-stop"></span></button>\n                                    </span>\n\n                        <button ng-click="download(item)" ng-if="(item.status != \'Started\' && item.status != \'Paused\' ) && item.localUrl == null " type="button" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span></button>\n                        <a href="{{ item.proxyURL }}" ng-if="item.localUrl == null" type="button" class="btn btn-info"><span class="glyphicon glyphicon-globe"></span></a>\n\n                        <a href="{{ item.proxyURL }}" ng-if="item.localUrl != null" type="button" class="btn btn-success"><span class="glyphicon glyphicon-play"></span></a>\n                        <button ng-click="remove(item)" ng-if="item.localUrl != null" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <!--</div>-->\n    <div class="text-center row">\n        <pagination items-per-page="12" max-size="10" boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="changePage()" class="pagination pagination-centered" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>\n    </div>\n</div>\n')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/items-search.html",'<div class="container item-listing">\n    <!--<div class="col-xs-11 col-sm-11 col-lg-11 col-md-11">-->\n    <div class="col-sm-12">\n        <tags-input placeholder="Search by Tags" add-from-autocomplete-only="true" ng-model="searchTags" display-property="name" min-length="1" class="bootstrap" on-tag-added="currentSearchPage=1; changePage()" on-tag-removed="currentPage=1; changePage()">\n            <auto-complete source="loadTags($query)" min-length="2"></auto-complete>\n        </tags-input>\n    </div>\n\n    <div class="text-center">\n        <pagination items-per-page="12" max-size="10" boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="changePage()" class="pagination pagination-centered" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>\n    </div>\n        <div class="row">\n            <div ng-repeat="item in items track by item.id" class="col-xs-6 col-sm-4 col-md-3 col-lg-3 itemInList">\n                <div class="box">\n                    <div class="">\n                        <a ng-href="#/item/{{item.id}}" >\n                            <img ng-src="{{ item.cover.url }}" alt="" class="img-rounded img-responsive" />\n                        </a>\n                    </div>\n                    <div class="text-center clearfix itemTitle" >\n                        <p>\n                            {{ item.title | characters:50 }}\n                        </p>\n                    </div>\n                    <div class="text-center row-button">\n                        <span ng-if="item.status == \'Started\' || item.status == \'Paused\'" >\n                                        <button ng-click="toggleDownload(item)" type="button" class="btn btn-primary "><i class="glyphicon glyphicon-play"></i><i class="glyphicon glyphicon-pause"></i></button>\n                                        <button ng-click="stopDownload(item)" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-stop"></span></button>\n                                    </span>\n\n                        <button ng-click="download(item)" ng-if="(item.status != \'Started\' && item.status != \'Paused\' ) && item.localUrl == null " type="button" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span></button>\n                        <a href="{{ item.proxyURL }}" ng-if="item.localUrl == null" type="button" class="btn btn-info"><span class="glyphicon glyphicon-globe"></span></a>\n\n                        <a href="{{ item.proxyURL }}" ng-if="item.localUrl != null" type="button" class="btn btn-success"><span class="glyphicon glyphicon-play"></span></a>\n                        <button ng-click="remove(item)" ng-if="item.localUrl != null" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <!--</div>-->\n    <div class="text-center row">\n        <pagination items-per-page="12" max-size="10" boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="changePage()" class="pagination pagination-centered" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>\n    </div>\n</div>\n')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/podcast-add.html",'<div class="jumbotron">\n    <div class="container">\n        <h1>Ajouter un Podcast</h1>\n    </div>\n</div>\n\n<div class="container">\n    <form class="form-horizontal" role="form">\n        <div class="form-group">\n            <label for="title" class="col-sm-1 control-label">Titre</label>\n\n            <div class="col-sm-10">\n                <input type="text" class="form-control" id="title" ng-model="podcast.title" required placeholder="Titre">\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="url" class="col-sm-1 control-label">URL</label>\n\n            <div class="col-sm-10">\n                <input type="url" class="form-control" id="url" ng-model="podcast.url" required placeholder="url" ng-change="changeType()">\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="checkbox col-sm-offset-2">\n                <label>\n                    <input type="checkbox" ng-model="podcast.hasToBeDeleted" required> Suppression Auto\n                </label>\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label for="url" class="col-sm-1 control-label">Tags</label>\n            <div class="col-sm-10">\n                <tags-input ng-model="podcast.tags" display-property="name" min-length="1" class="bootstrap">\n                    <auto-complete source="loadTags($query)" min-length="2"></auto-complete>\n                </tags-input>\n            </div>\n        </div>\n\n\n        <div class="form-group">\n            <label for="height" class="col-sm-1 control-label">Type</label>\n\n            <div class="col-sm-10">\n                <select class="form-control" ng-model="podcast.type">\n                    <option value="BeInSports">Be In Sports</option>\n                    <option value="CanalPlus">Canal+</option>\n                    <option value="JeuxVideoFR">Jeux Video Fr</option>\n                    <option value="Parleys">Parleys</option>\n                    <option value="RSS">RSS</option>\n                    <option value="send">Send</option>\n                    <option value="Youtube">Youtube</option>\n                </select>\n            </div>\n        </div>\n        <div class="col-md-2 col-md-offset-1">\n            <img ng-src="{{ podcast.cover.url }}" class="img-thumbnail" bs-Holder>\n        </div>\n        <div class="col-md-9">\n            <div class="form-group">\n                <label for="url" class="col-sm-2 control-label">URL</label>\n\n                <div class="col-sm-9">\n                    <input class="form-control" id="url" ng-model="podcast.cover.url" required placeholder="url">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="width" class="col-sm-2 control-label">Lageur</label>\n\n                <div class="col-sm-3">\n                    <input type="number" class="form-control" id="width" ng-model="podcast.cover.width" required\n                           placeholder="url">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="height" class="col-sm-2 control-label">Hauteur</label>\n\n                <div class="col-sm-3">\n                    <input type="number" class="form-control" id="height" ng-model="podcast.cover.height" required\n                           placeholder="url">\n                </div>\n            </div>\n        </div>\n\n\n        <div class="form-group">\n            <div class="col-sm-offset-2 col-sm-10">\n                <button ng-click="save()" class="btn btn-default">Sauvegarder</button>\n            </div>\n        </div>\n    </form>\n</div>\n\n\n\n')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/podcast-detail.html",'<div class="container">\n\n<br/>\n<ol class="breadcrumb">\n    <li><a href="/#/podcasts">Podcasts</a></li>\n    <li><a class="active"> {{ podcast.title }}</a></li>\n</ol>\n\n\n<div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">\n    <div class="thumbnail">\n        <img ng-src="{{podcast.cover.url}}" width="{{podcast.cover.width}}" height="{{podcast.cover.height}}" alt="">\n        <div class="caption">\n            <h5 class="text-center "><strong>{{ podcast.title }}</strong></h5>\n            <p class="text-center">Nombre d\'épisode : {{podcast.items.length }}</p>\n            <div class="col-lg-12 col-sm-12 col-md-12 col-xs-12 text-center">\n                <button ng-click="refresh()" type="button" class="btn btn-default"><span class="glyphicon glyphicon-refresh"></span></button>\n                <a type="button" class="btn btn-default" href="/api/podcast/{{ podcast.id }}/rss" target="_blank">RSS</a>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="col-md-8 col-xs-12 col-sm-12 col-lg-8">\n\n    <tabset>\n        <tab ng-repeat="tab in tabs" heading="{{tab.title}}" active="tab.active" disabled="tab.disabled">\n            <ng-include src="tab.templateUrl" ></ng-include>\n        </tab>\n    </tabset>\n\n\n</div>\n    </div>\n\n\n\n')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/podcast-details-edition.html",'<br/>\n<accordion close-others="true">\n    <accordion-group heading="Podcast" is-open="true">\n        <form class="form-horizontal" role="form">\n            <div class="form-group">\n                <label for="title" class="col-sm-2 control-label">Titre</label>\n                <div class="col-sm-10">\n                    <input type="text" class="form-control" id="title" ng-model="podcast.title" required placeholder="Titre">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="url" class="col-sm-2 control-label">URL</label>\n                <div class="col-sm-10">\n                    <input type="url" class="form-control" id="url" ng-model="podcast.url" required placeholder="url">\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="checkbox col-sm-offset-3">\n                    <label>\n                        <input type="checkbox" ng-model="podcast.hasToBeDeleted" required> Suppression Auto\n                    </label>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="url" class="col-sm-2 control-label">Tags</label>\n                <div class="col-sm-10">\n                    <tags-input ng-model="podcast.tags" display-property="name" min-length="1" class="bootstrap">\n                        <auto-complete source="loadTags($query)" min-length="2"></auto-complete>\n                    </tags-input>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="height" class="col-sm-2 control-label" >Type</label>\n                <div class="col-sm-10" >\n                    <select class="form-control" ng-model="podcast.type">\n                        <option value="BeInSports">Be In Sports</option>\n                        <option value="CanalPlus">Canal+</option>\n                        <option value="JeuxVideoFR">Jeux Video Fr</option>\n                        <option value="Parleys">Parleys</option>\n                        <option value="RSS">RSS</option>\n                        <option value="send">Send</option>\n                        <option value="Youtube">Youtube</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-offset-2 col-sm-10">\n                    <button ng-click="save()" class="btn btn-default">Sauvegarder</button>\n                </div>\n            </div>\n        </form>\n    </accordion-group>\n    <accordion-group heading="Cover">\n        <form class="form-horizontal" role="form">\n            <div class="form-group">\n                <label for="url" class="col-sm-2 control-label">URL</label>\n                <div class="col-sm-10">\n                    <input type="url" class="form-control" id="url" ng-model="podcast.cover.url" required placeholder="url">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="width" class="col-sm-2 control-label">Lageur</label>\n                <div class="col-sm-10">\n                    <input type="number" class="form-control" id="width" ng-model="podcast.cover.width" required placeholder="url">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="height" class="col-sm-2 control-label">Hauteur</label>\n                <div class="col-sm-10">\n                    <input type="number" class="form-control" id="height" ng-model="podcast.cover.height" required placeholder="url">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-offset-2 col-sm-10">\n                    <button ng-click="save()" class="btn btn-default">Sauvegarder</button>\n                </div>\n            </div>\n        </form>\n    </accordion-group>\n</accordion>\n')}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/podcast-details-episodes.html",'\n<br/>\n\n<div class="media"  ng-repeat="item in podcast.items track by item.id | orderBy:pubdate">\n\n    <div class="buttonList pull-right">\n        <!-- Téléchargement en cours -->\n                        <span ng-if="item.status == \'Started\' || item.status == \'Paused\'" >\n                            <button ng-click="toggleDownload(item)" type="button" class="btn btn-primary "><i class="glyphicon glyphicon-play"></i><i class="glyphicon glyphicon-pause"></i></button>\n                            <button ng-click="stopDownload(item)" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-stop"></span></button>\n                        </span>\n\n        <!-- Lancer le téléchargement -->\n        <button ng-click="download(item)" ng-if="(item.status != \'Started\' && item.status != \'Paused\' ) && item.localUrl == null " type="button" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span></button>\n\n        <!-- Accéder au fichier -->\n        <a href="{{ item.url }}" ng-if="item.localUrl == null" type="button" class="btn btn-info"><span class="glyphicon glyphicon-globe"></span></a>\n        <a href="{{ item.localUrl }}" ng-if="item.localUrl != null" type="button" class="btn btn-success"><span class="glyphicon glyphicon-play"></span></a>\n\n        <!-- Supprimer l\'item -->\n        <button ng-click="remove(item)" ng-if="(item.status != \'Started\' && item.status != \'Paused\' )" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>\n    </div>\n\n    <a class="pull-left" ng-href="#/item/{{item.id}}">\n\n        <img ng-src="{{item.cover.url}}" width="100" height="100" style="">\n\n    </a>\n    <div class="media-body">\n        <h4 class="media-heading">{{item.title | characters:60}}</h4>\n        <p class="description hidden-xs hidden-sm branch-name">{{item.description | htmlToPlaintext | characters : 130 }}</p>\n        <p><strong>{{item.pubdate | date : \'dd/MM/yyyy à HH:mm\' }}</strong></p>\n    </div>\n</div>\n\n\n\n        ')
}])}(),function(t){try{t=angular.module("podcast.partial")}catch(n){t=angular.module("podcast.partial",[])}t.run(["$templateCache",function(t){t.put("html/podcasts-list.html",'<div id="listItem" class="container" style="margin-top: 15px;">\n    <div class="row">\n        <div class="col-xs-6 col-sm-4 col-md-3 col-lg-3" ng-repeat="podcast in podcasts">\n            <div class="thumbnail">\n                <a ng-href="#/podcast/{{ podcast.id }}" >\n                    <img ng-src="{{podcast.cover.url}}" width="{{podcast.cover.width}}" height="{{podcast.cover.height}}" alt="">\n                    <div class="caption">\n                        <h5 class="text-center">{{ podcast.title }}</h5>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n')}])}(),angular.module("podcast.controller").controller("PodcastDetailCtrl",["$scope","$routeParams","Restangular","ngstomp","localStorageService","DonwloadManager","$log",function(t,n,e,o,a,l,s){var i=n.podcastId,c=e.all("tag");t.tabs=[{title:"Episodes",templateUrl:"html/podcast-details-episodes.html",active:!0},{title:"Modification",templateUrl:"html/podcast-details-edition.html",active:!1}],t.$watchGroup(["podcast","podcast.items"],function(t){a.add("podcast/"+i,t[0])}),t.podcast=a.get("podcast/"+i)||{},t.refreshItems=function(){t.podcast.getList("items").then(function(n){t.podcast.items=n})},e.one("podcast",n.podcastId).get().then(function(n){n.items=t.podcast.items||[],t.podcast=n,t.wsClient=o("/download",SockJS),t.wsClient.connect("user","password",function(){t.wsClient.subscribe("/topic/podcast/"+i,function(n){var e=JSON.parse(n.body),o=_.find(t.podcast.items,{id:e.id});_.assign(o,e)})}),t.$on("$destroy",function(){t.wsClient.disconnect(function(){})})}).then(t.refreshItems),t.remove=function(n){e.one("item",n.id).remove().then(function(){t.podcast.items=_.reject(t.podcast.items,function(t){return t.id==n.id})})},t.refresh=function(){e.one("task").customPOST(t.podcast.id,"updateManager/updatePodcast/force").then(t.refreshItems)},t.loadTags=function(t){return c.post(null,{name:t})},t.download=l.download,t.stopDownload=l.stopDownload,t.toggleDownload=l.toggleDownload,t.save=function(){var n=_.cloneDeep(t.podcast);n.items=null,t.podcast.patch(n).then(function(n){s.debug(n),_.assign(t.podcast,n)}).then(t.refreshItems)}}]),angular.module("podcast.controller").controller("PodcastsListCtrl",["$scope","Restangular","localStorageService",function(t,n,e){t.podcasts=e.get("podcastslist"),n.all("podcast").getList().then(function(n){t.podcasts=n,e.add("podcastslist",n)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxsLmpzIiwic291cmNlcyI6WyJhcHAuanMiLCJjb250cm9sbGVycy9wb2RjYXN0LmNvbnRyb2xsZXIubW9kdWxlLmpzIiwiZmlsdGVycy5qcyIsInNlcnZpY2VzLmpzIiwiY29udHJvbGxlcnMvZG93bmxvYWRDdHJsLmpzIiwiY29udHJvbGxlcnMvaXRlbURldGFpbEN0cmwuanMiLCJjb250cm9sbGVycy9pdGVtc0xpc3RDdHJsLmpzIiwiY29udHJvbGxlcnMvaXRlbXNTZWFyY2hDdHJsLmpzIiwiY29udHJvbGxlcnMvcG9kY2FzdEFkZEN0cmwuanMiLCJwYXJ0aWFscy5qcyIsImNvbnRyb2xsZXJzL3BvZGNhc3REZXRhaWxDdHJsLmpzIiwiY29udHJvbGxlcnMvcG9kY2FzdExpc3RDdHJsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFFBQUEsT0FBQSxjQUNBLHFCQUNBLGtCQUNBLG1CQUNBLGtCQUNBLFVBQ0EsY0FDQSxjQUNBLGVBQ0EscUJBQ0EsWUFDQSxXQUNBLGVBQ0Esc0JBQ0EsY0FDQSxpQkFFQSxRQUFBLGlCQUFBLFNBQUEsR0FFQSxHQUFBLEtBQ0EsSUFBQSxZQUFBLFNBQUEsR0FDQSxFQUFBLGlCQUNBLE9BQUEsU0FBQSxLQUFBLGFBRUEsSUFBQSxjQUFBLFNBQUEsR0FDQSxFQUFBLGlCQUNBLE9BQUEsU0FBQSxLQUFBLG1CQUVBLElBQUEsb0JBQUEsU0FBQSxHQUNBLEVBQUEsaUJBQ0EsT0FBQSxTQUFBLEtBQUEsZ0JBRUEsSUFBQSxxQkFBQSxTQUFBLEdBQ0EsRUFBQSxpQkFDQSxPQUFBLFNBQUEsS0FBQSxlQUlBLEdBQ0EsS0FBQSxhQUNBLFlBQUEsMEJBQ0EsV0FBQSxtQkFDQSxRQUFBLElBRUEsS0FBQSxnQkFDQSxZQUFBLHdCQUNBLFdBQUEsaUJBQ0EsUUFBQSxJQUVBLEtBQUEsdUJBQ0EsWUFBQSwyQkFDQSxXQUFBLG9CQUNBLFVBQ0EsSUFBQSxVQUFBLG1CQUNBLElBQUEsZ0JBQUEsY0FDQSxJQUFBLGdCQUFBLDBCQUNBLElBQUEsMEJBQUEsMEJBQ0EsT0FBQSxLQUVBLEtBQUEsVUFDQSxZQUFBLHVCQUNBLFdBQUEsZ0JBQ0EsZ0JBQUEsRUFDQSxVQUNBLFFBQUEsWUFBQSwrQ0FDQSxPQUFBLGdCQUFBLCtDQUNBLE9BQUEsS0FFQSxLQUFBLGdCQUNBLFlBQUEseUJBQ0EsV0FBQSxrQkFDQSxnQkFBQSxFQUNBLFVBQ0EsUUFBQSxZQUFBLCtDQUNBLE9BQUEsZ0JBQUEsK0NBQ0EsT0FBQSxLQUVBLEtBQUEsaUJBQ0EsWUFBQSx3QkFDQSxXQUFBLGlCQUNBLFFBQUEsSUFFQSxLQUFBLGFBQ0EsWUFBQSxxQkFDQSxXQUFBLGVBQ0EsUUFBQSxJQUVBLFdBQ0EsV0FBQSxjQUdBLFFBQUEsd0JBQUEsU0FBQSxHQUNBLEVBQUEsZ0JBQUEsS0FFQSxRQUFBLHNCQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsWUMvRkEsUUFBQSxPQUFBLHlCQ0FBLFFBQUEsT0FBQSxzQkFDQSxPQUFBLGtCQUFBLFdBQ0EsTUFBQSxVQUFBLEdBQ0EsTUFBQSxRQUFBLEdBQUEsUUFBQSxZQUFBLE1DSEEsSUFBQSxpQkFBQSxRQUFBLE9BQUEsc0JBa0JBLGlCQUFBLFFBQUEsbUJBQUEsY0FBQSxTQUFBLEdBQ0EsR0FBQSxLQWlDQSxPQS9CQSxHQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxRQUFBLFVBQUEsRUFBQSxHQUFBLGdCQUVBLEVBQUEsYUFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLFFBQUEsV0FBQSxFQUFBLEdBQUEsaUNBRUEsRUFBQSxlQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsUUFBQSxXQUFBLEVBQUEsR0FBQSxtQ0FHQSxFQUFBLGdCQUFBLFdBQ0EsRUFBQSxJQUFBLFFBQUEsVUFBQSxvQ0FFQSxFQUFBLGlCQUFBLFdBQ0EsRUFBQSxJQUFBLFFBQUEsVUFBQSxxQ0FFQSxFQUFBLDBCQUFBLFdBQ0EsRUFBQSxJQUFBLFFBQUEsVUFBQSw4Q0FFQSxFQUFBLGdCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsUUFBQSxhQUFBLHlCQUFBLEVBQUEsS0FHQSxFQUFBLG9CQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsUUFBQSxXQUFBLEVBQUEsMEJBR0EsRUFBQSxhQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsUUFBQSxhQUFBLHlCQUFBLEVBQUEsR0FBQSxhQUdBLEtDcERBLFFBQUEsT0FBQSxzQkFDQSxXQUFBLGdCQUFBLFNBQUEsUUFBQSxlQUFBLGNBQUEsVUFBQSxrQkFBQSxPQUFBLGVBQUEsVUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLElBQUEsb0NBQUEsVUFBQSxRQUNBLEVBQUEsZ0JBS0EsRUFBQSxvQkFDQSxNQUFBLGdCQUFBLElBQUEsV0FBQSxFQUFBLGFBQUEsV0FDQSxpQkFBQSxFQUFBLG1CQUlBLEVBQUEsb0JBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsSUFBQSw2QkFDQSxHQUFBLFVBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLEtBSUEsRUFBQSxJQUFBLDhCQUFBLE1BQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxjQUFBLFNBQUEsS0FHQSxFQUFBLGtCQUFBLFNBQUEsR0FDQSxNQUFBLFdBQUEsRUFBQSxPQUNBLFVBQ0EsUUFFQSxFQUFBLG9CQUFBLEVBQUEsb0JBR0EsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsZUFBQSxFQUFBLGVBR0EsRUFBQSxnQkFBQSxFQUFBLGdCQUNBLEVBQUEsaUJBQUEsRUFBQSxpQkFDQSxFQUFBLDBCQUFBLEVBQUEsMEJBQ0EsRUFBQSxnQkFBQSxFQUFBLGdCQUNBLEVBQUEsYUFBQSxFQUFBLGFBRUEsRUFBQSxTQUFBLEVBQUEsWUFBQSxRQUNBLEVBQUEsU0FBQSxRQUFBLE9BQUEsV0FBQSxXQUNBLEVBQUEsU0FBQSxVQUFBLGtCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLElBQ0EsUUFBQSxFQUFBLFFBQ0EsSUFBQSxVQUNBLElBQUEsU0FDQSxFQUNBLEVBQUEsT0FBQSxFQUFBLEdBRUEsRUFBQSxNQUFBLEtBQUEsRUFDQSxNQUNBLEtBQUEsU0FDQSxHQUFBLEdBQUEsMEJBQ0EsS0FBQSxFQUFBLE1BQ0EsS0FBQSxFQUFBLE1BQUEsSUFDQSxNQUFBLEtBRUEsS0FBQSxVQUNBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsTUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxRQU1BLEVBQUEsU0FBQSxVQUFBLG1CQUFBLFNBQUEsR0FDQSxFQUFBLGFBQUEsS0FBQSxNQUFBLEVBQUEsUUFFQSxFQUFBLFNBQUEsVUFBQSxxQkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEtBRUEsU0FBQSxRQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxjQUFBLEdBQUEsRUFBQSxJQUNBLE1BQUEsR0FDQSxFQUFBLGFBQUEsS0FBQSxLQUdBLFFBQUEsUUFBQSxFQUFBLGFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEdBQUEsRUFBQSxJQUNBLE1BQUEsR0FDQSxFQUFBLGFBQUEsT0FBQSxFQUFBLFNBS0EsRUFBQSxJQUFBLFdBQUEsV0FDQSxFQUFBLFNBQUEsV0FBQSxtQkM3RkEsUUFBQSxPQUFBLHNCQUNBLFdBQUEsa0JBQUEsU0FBQSxlQUFBLFFBQUEsY0FBQSxVQUFBLGtCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsTUFFQSxHQUFBLElBQUEsT0FBQSxHQUFBLE1BQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLElBQ0EsS0FBQSxXQUNBLEVBQUEsS0FBQSxJQUFBLFdBQUEsTUFBQSxLQUFBLFNBQUEsR0FFQSxFQUFBLEtBQUEsUUFBQSxFQUVBLEVBQUEsU0FBQSxFQUFBLFlBQUEsUUFDQSxFQUFBLFNBQUEsUUFBQSxPQUFBLFdBQUEsV0FDQSxFQUFBLFNBQUEsVUFBQSxrQkFBQSxFQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxLQUVBLEdBQUEsSUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLE9BQUEsRUFBQSxLQUFBLE9BSUEsRUFBQSxJQUFBLFdBQUEsV0FDQSxFQUFBLFNBQUEsV0FBQSxvQkFNQSxFQUFBLE9BQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxPQUFBLEVBQUEsSUFBQSxTQUFBLEtBQUEsV0FDQSxFQUFBLFFBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLE1BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxJQUFBLEVBQUEsUUFLQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEVBQUEsYUFBQSxFQUFBLGFBQ0EsRUFBQSxlQUFBLEVBQUEsa0JDdkNBLFFBQUEsT0FBQSxzQkFDQSxXQUFBLGlCQUFBLFNBQUEsUUFBQSxlQUFBLGdCQUFBLGNBQUEsVUFBQSxrQkFBQSxPQUFBLFlBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsRUFBQSxJQUFBLG9CQUFBLEVBQUEsbUJBQ0EsRUFBQSxFQUdBLEdBQUEsV0FBQSxXQUNBLEVBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxLQUFBLEtBQUEsRUFBQSxXQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLElBQUEsbUJBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLE9BQUEsV0FBQSxZQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLFFBQ0EsRUFBQSxXQUFBLFNBQUEsRUFBQSxlQUNBLEVBQUEsSUFBQSxjQUFBLEVBQUEsYUFDQSxFQUFBLE9BQUEsT0FBQSxFQUFBLGdCQUlBLEVBQUEsSUFBQSxlQUFBLFdBQ0EsRUFBQSxjQUFBLEVBQUEsU0FBQSxPQUNBLEVBQUEsWUFBQSxFQUFBLFNBQUEsS0FDQSxFQUFBLGdCQUtBLEVBQUEsV0FBQSxPQUFBLFVBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxZQUFBLEVBQUEsSUFBQSxnQkFBQSxFQUNBLEVBQUEsYUFFQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEVBQUEsYUFBQSxFQUFBLGFBQ0EsRUFBQSxlQUFBLEVBQUEsZUFFQSxFQUFBLFNBQUEsRUFBQSxZQUFBLFFBQ0EsRUFBQSxTQUFBLFFBQUEsT0FBQSxXQUFBLFdBQ0EsRUFBQSxTQUFBLFVBQUEsa0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxNQUVBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsSUFDQSxJQUNBLEVBQUEsT0FBQSxFQUFBLE9BR0EsRUFBQSxJQUFBLFdBQUEsV0FDQSxFQUFBLFNBQUEsV0FBQSxtQkM5Q0EsUUFBQSxPQUFBLHNCQUNBLFdBQUEsbUJBQUEsU0FBQSxRQUFBLGVBQUEsZ0JBQUEsWUFBQSxjQUFBLFVBQUEsa0JBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxPQUNBLEVBQUEsRUFDQSxHQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLE1BQUEsS0FBQSxJQUlBLElBQUEsR0FBQSxFQUFBLElBQUEsb0JBQUEsRUFBQSxrQkFHQSxHQUFBLFdBQUEsV0FDQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsS0FBQSxLQUFBLEVBQUEsV0FBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLFlBQ0EsRUFBQSxJQUFBLHdCQUFBLEtBQUEsTUFBQSxLQUFBLEVBQUEsV0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLE9BQUEsV0FBQSxZQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLFFBQ0EsRUFBQSxXQUFBLFNBQUEsRUFBQSxlQUNBLEVBQUEsSUFBQSxvQkFBQSxFQUFBLGFBQ0EsRUFBQSxPQUFBLE9BQUEsRUFBQSxnQkFJQSxFQUFBLElBQUEsZUFBQSxXQUNBLEVBQUEsY0FBQSxFQUFBLFNBQUEsT0FDQSxFQUFBLFlBQUEsRUFBQSxTQUFBLEtBQ0EsRUFBQSxnQkFLQSxFQUFBLFdBQUEsT0FBQSxVQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsWUFBQSxFQUFBLElBQUEsc0JBQUEsRUFDQSxFQUFBLGFBRUEsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsZUFBQSxFQUFBLGVBRUEsRUFBQSxTQUFBLEVBQUEsWUFBQSxRQUNBLEVBQUEsU0FBQSxRQUFBLE9BQUEsV0FBQSxXQUNBLEVBQUEsU0FBQSxVQUFBLGtCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsTUFFQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLElBQ0EsSUFDQSxFQUFBLE9BQUEsRUFBQSxPQUdBLEVBQUEsSUFBQSxXQUFBLFdBQ0EsRUFBQSxTQUFBLFdBQUEsbUJDbkRBLFFBQUEsT0FBQSxzQkFDQSxXQUFBLGtCQUFBLFNBQUEsY0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLFdBQ0EsRUFBQSxFQUFBLElBQUEsTUFFQSxHQUFBLFNBQ0EsZ0JBQUEsRUFDQSxPQUNBLE9BQUEsSUFDQSxNQUFBLE1BSUEsRUFBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxNQUFBLEtBQUEsS0FHQSxFQUFBLFdBQUEsV0FFQSxFQUFBLFFBQUEsS0FEQSxrQkFBQSxLQUFBLEVBQUEsUUFBQSxLQUNBLGFBQ0EsaUJBQUEsS0FBQSxFQUFBLFFBQUEsS0FDQSxZQUNBLGlCQUFBLEtBQUEsRUFBQSxRQUFBLEtBQ0EsY0FDQSxnQkFBQSxLQUFBLEVBQUEsUUFBQSxLQUNBLFVBQ0EsZ0JBQUEsS0FBQSxFQUFBLFFBQUEsS0FDQSxVQUNBLEVBQUEsUUFBQSxJQUFBLE9BQUEsRUFDQSxNQUVBLFFBSUEsRUFBQSxLQUFBLFdBQ0EsRUFBQSxLQUFBLEVBQUEsYUNwQ0EsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHFCQUNBLG91R0F5RUEsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHdCQUNBLDYyRkE0REEsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHVCQUNBLHEyRkEwQ0EsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHlCQUNBLCt2R0FnREEsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHdCQUNBLGdxSEFtR0EsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLDJCQUNBLG93Q0F3Q0EsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLG9DQUNBLGs2SEFzRkEsU0FBQSxHQUNBLElBQ0EsRUFBQSxRQUFBLE9BQUEsbUJBQ0EsTUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLHNCQUVBLEVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHFDQUNBO09BeUNBLFNBQUEsR0FDQSxJQUNBLEVBQUEsUUFBQSxPQUFBLG1CQUNBLE1BQUEsR0FDQSxFQUFBLFFBQUEsT0FBQSxzQkFFQSxFQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSwwQkFDQSxtb0JDampCQSxRQUFBLE9BQUEsc0JBQ0EsV0FBQSxxQkFBQSxTQUFBLGVBQUEsY0FBQSxVQUFBLHNCQUFBLGtCQUFBLE9BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLFVBQ0EsRUFBQSxFQUFBLElBQUEsTUFDQSxHQUFBLE9BQ0EsTUFBQSxXQUFBLFlBQUEscUNBQUEsUUFBQSxJQUNBLE1BQUEsZUFBQSxZQUFBLG9DQUFBLFFBQUEsSUFJQSxFQUFBLGFBQUEsVUFBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLFdBQUEsRUFBQSxFQUFBLE1BR0EsRUFBQSxRQUFBLEVBQUEsSUFBQSxXQUFBLE9BRUEsRUFBQSxhQUFBLFdBQ0EsRUFBQSxRQUFBLFFBQUEsU0FBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFFBQUEsTUFBQSxLQUlBLEVBQUEsSUFBQSxVQUFBLEVBQUEsV0FBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLFFBQUEsVUFDQSxFQUFBLFFBQUEsRUFHQSxFQUFBLFNBQUEsRUFBQSxZQUFBLFFBQ0EsRUFBQSxTQUFBLFFBQUEsT0FBQSxXQUFBLFdBQ0EsRUFBQSxTQUFBLFVBQUEsa0JBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxRQUFBLE9BQUEsR0FBQSxFQUFBLElBQ0EsR0FBQSxPQUFBLEVBQUEsT0FHQSxFQUFBLElBQUEsV0FBQSxXQUNBLEVBQUEsU0FBQSxXQUFBLGtCQUVBLEtBQUEsRUFBQSxjQUdBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLE9BQUEsRUFBQSxJQUFBLFNBQUEsS0FBQSxXQUNBLEVBQUEsUUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsTUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLElBQUEsRUFBQSxRQUlBLEVBQUEsUUFBQSxXQUNBLEVBQUEsSUFBQSxRQUFBLFdBQUEsRUFBQSxRQUFBLEdBQUEscUNBQ0EsS0FBQSxFQUFBLGVBR0EsRUFBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxNQUFBLEtBQUEsS0FHQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEVBQUEsYUFBQSxFQUFBLGFBQ0EsRUFBQSxlQUFBLEVBQUEsZUFFQSxFQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsUUFDQSxHQUFBLE1BQUEsS0FDQSxFQUFBLFFBQUEsTUFBQSxHQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLFFBQUEsS0FDQSxLQUFBLEVBQUEsa0JDcEVBLFFBQUEsT0FBQSxzQkFDQSxXQUFBLG9CQUFBLFNBQUEsY0FBQSxzQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsU0FBQSxFQUFBLElBQUEsZ0JBQ0EsRUFBQSxJQUFBLFdBQUEsVUFBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLElBQUEsZUFBQSIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0QXBwJywgW1xuICAgICdwb2RjYXN0LmNvbnRyb2xsZXInLFxuICAgICdwb2RjYXN0LmZpbHRlcnMnLFxuICAgICdwb2RjYXN0LnNlcnZpY2VzJyxcbiAgICAncG9kY2FzdC5wYXJ0aWFsJyxcbiAgICAnbmdSb3V0ZScsXG4gICAgJ2NmcC5ob3RrZXlzJyxcbiAgICAncmVzdGFuZ3VsYXInLFxuICAgICdBbmd1bGFyU3RvbXAnLFxuICAgICdMb2NhbFN0b3JhZ2VNb2R1bGUnLFxuICAgICduZ0FuaW1hdGUnLFxuICAgICd0cnVuY2F0ZScsXG4gICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgJ2FuZ3VsYXItbG9hZGluZy1iYXInLFxuICAgICduZ1RhZ3NJbnB1dCcsXG4gICAgJ25vdGlmaWNhdGlvbidcbl0pXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuXG4gICAgICAgIHZhciBjb21tb25LZXkgPSBbXG4gICAgICAgICAgICBbJ2gnLCAnR290byBIb21lJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcjL2l0ZW1zJztcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgWydzJywgJ0dvdG8gU2VhcmNoJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcjL2l0ZW0vc2VhcmNoJztcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgWydwJywgJ0dvdG8gUG9kY2FzdCBMaXN0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcjL3BvZGNhc3RzJztcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgWydkJywgJ0dvdG8gRG93bmxvYWQgTGlzdCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnIy9kb3dubG9hZCc7XG4gICAgICAgICAgICB9XVxuICAgICAgICBdO1xuXG4gICAgICAgICAgICAkcm91dGVQcm92aWRlci5cbiAgICAgICAgICAgICAgICB3aGVuKCcvcG9kY2FzdHMnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaHRtbC9wb2RjYXN0cy1saXN0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUG9kY2FzdHNMaXN0Q3RybCcsXG4gICAgICAgICAgICAgICAgICAgIGhvdGtleXM6IGNvbW1vbktleVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHdoZW4oJy9wb2RjYXN0L2FkZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdodG1sL3BvZGNhc3QtYWRkLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUG9kY2FzdEFkZEN0cmwnLFxuICAgICAgICAgICAgICAgICAgICBob3RrZXlzOiBjb21tb25LZXlcbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB3aGVuKCcvcG9kY2FzdC86cG9kY2FzdElkJywge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2h0bWwvcG9kY2FzdC1kZXRhaWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQb2RjYXN0RGV0YWlsQ3RybCcsXG4gICAgICAgICAgICAgICAgICAgIGhvdGtleXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncicsICdSZWZyZXNoJywgJ3JlZnJlc2hJdGVtcygpJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2YnLCAnRm9yY2UgUmVmcmVzaCcsICdyZWZyZXNoKCknXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnbCcsICdMaXN0IG9mIEl0ZW1zJywgJ3RhYnNbMF0uYWN0aXZlID0gdHJ1ZSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydtJywgJ01vZGlmaWNhdGlvbiBvZiBQb2RjYXN0JywgJ3RhYnNbMV0uYWN0aXZlID0gdHJ1ZSddXG4gICAgICAgICAgICAgICAgICAgIF0uY29uY2F0KGNvbW1vbktleSlcbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB3aGVuKCcvaXRlbXMnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaHRtbC9pdGVtcy1saXN0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnSXRlbXNMaXN0Q3RybCcsXG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZE9uU2VhcmNoOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaG90a2V5czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydyaWdodCcsICdOZXh0IHBhZ2UnLCAnY3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZSsxOyBjaGFuZ2VQYWdlKCk7J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xlZnQnLCAnUHJldmlvdXMgcGFnZScsICdjdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlLTE7IGNoYW5nZVBhZ2UoKTsnXSxcbiAgICAgICAgICAgICAgICAgICAgXS5jb25jYXQoY29tbW9uS2V5KVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHdoZW4oJy9pdGVtL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdodG1sL2l0ZW1zLXNlYXJjaC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0l0ZW1zU2VhcmNoQ3RybCcsXG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZE9uU2VhcmNoOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaG90a2V5czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydyaWdodCcsICdOZXh0IHBhZ2UnLCAnY3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZSsxOyBjaGFuZ2VQYWdlKCk7J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2xlZnQnLCAnUHJldmlvdXMgcGFnZScsICdjdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlLTE7IGNoYW5nZVBhZ2UoKTsnXVxuICAgICAgICAgICAgICAgICAgICBdLmNvbmNhdChjb21tb25LZXkpXG4gICAgICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICAgICAgd2hlbignL2l0ZW0vOml0ZW1JZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdodG1sL2l0ZW0tZGV0YWlsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnSXRlbURldGFpbEN0cmwnLFxuICAgICAgICAgICAgICAgICAgICBob3RrZXlzOiBjb21tb25LZXlcbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB3aGVuKCcvZG93bmxvYWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaHRtbC9kb3dubG9hZC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rvd25sb2FkQ3RybCcsXG4gICAgICAgICAgICAgICAgICAgIGhvdGtleXM6IGNvbW1vbktleVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIG90aGVyd2lzZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvaXRlbXMnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgLmNvbmZpZyhbJ2NmcExvYWRpbmdCYXJQcm92aWRlcicsIGZ1bmN0aW9uIChjZnBMb2FkaW5nQmFyUHJvdmlkZXIpIHtcbiAgICAgICAgY2ZwTG9hZGluZ0JhclByb3ZpZGVyLmluY2x1ZGVTcGlubmVyID0gZmFsc2U7XG4gICAgfV0pXG4gICAgLmNvbmZpZyhbJ1Jlc3Rhbmd1bGFyUHJvdmlkZXInLCBmdW5jdGlvbihSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG4gICAgICAgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnL2FwaS8nKTtcbiAgICB9XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QuY29udHJvbGxlcicsIFtdKTsiLCJhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5maWx0ZXJzJywgW10pXG4gICAgLmZpbHRlcignaHRtbFRvUGxhaW50ZXh0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh0ZXh0KS5yZXBsYWNlKC88W14+XSs+L2dtLCAnJyk7XG4gICAgICAgIH07XG4gICAgfVxuKTsiLCJ2YXIgcG9kY2FzdFNlcnZpY2VzID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3Quc2VydmljZXMnLCBbLyonbmdSZXNvdXJjZScqL10pO1xuXG4vKlxucG9kY2FzdFNlcnZpY2VzLmZhY3RvcnkoJ1BvZGNhc3QnLCBbJyRyZXNvdXJjZScsXG4gICAgZnVuY3Rpb24oJHJlc291cmNlKXtcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnL2FwaS9wb2RjYXN0Lzpwb2RjYXN0SWQnLCB7fSwge1xuICAgICAgICAgICAgcXVlcnk6IHttZXRob2Q6J0dFVCcsIHBhcmFtczp7cG9kY2FzdElkOicnfSwgaXNBcnJheTp0cnVlfVxuICAgICAgICB9KTtcbiAgICB9XSk7XG5cbnBvZGNhc3RTZXJ2aWNlcy5mYWN0b3J5KCdJdGVtJywgWyckcmVzb3VyY2UnLFxuICAgIGZ1bmN0aW9uKCRyZXNvdXJjZSl7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJy9hcGkvaXRlbS86aXRlbUlkJywge30sIHtcbiAgICAgICAgICAgIHF1ZXJ5OiB7bWV0aG9kOidHRVQnLCBwYXJhbXM6e2l0ZW1JZDonJ30sIGlzQXJyYXk6dHJ1ZX1cbiAgICAgICAgfSk7XG4gICAgfV0pO1xuKi9cblxucG9kY2FzdFNlcnZpY2VzLmZhY3RvcnkoJ0Rvbndsb2FkTWFuYWdlcicsIGZ1bmN0aW9uKFJlc3Rhbmd1bGFyKSB7XG4gICAgdmFyIGRvd25sb2FkTWFuYWdlciA9IHt9O1xuXG4gICAgZG93bmxvYWRNYW5hZ2VyLmRvd25sb2FkID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJpdGVtXCIpLmN1c3RvbUdFVChpdGVtLmlkICsgXCIvYWRkdG9xdWV1ZVwiKTtcbiAgICB9O1xuICAgIGRvd25sb2FkTWFuYWdlci5zdG9wRG93bmxvYWQgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIFJlc3Rhbmd1bGFyLm9uZShcInRhc2tcIikuY3VzdG9tUE9TVChpdGVtLmlkLCBcImRvd25sb2FkTWFuYWdlci9zdG9wRG93bmxvYWRcIik7XG4gICAgfTtcbiAgICBkb3dubG9hZE1hbmFnZXIudG9nZ2xlRG93bmxvYWQgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIFJlc3Rhbmd1bGFyLm9uZShcInRhc2tcIikuY3VzdG9tUE9TVChpdGVtLmlkLCBcImRvd25sb2FkTWFuYWdlci90b29nbGVEb3dubG9hZFwiKTtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRNYW5hZ2VyLnN0b3BBbGxEb3dubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJ0YXNrXCIpLmN1c3RvbUdFVChcImRvd25sb2FkTWFuYWdlci9zdG9wQWxsRG93bmxvYWRcIik7XG4gICAgfTtcbiAgICBkb3dubG9hZE1hbmFnZXIucGF1c2VBbGxEb3dubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJ0YXNrXCIpLmN1c3RvbUdFVChcImRvd25sb2FkTWFuYWdlci9wYXVzZUFsbERvd25sb2FkXCIpO1xuICAgIH07XG4gICAgZG93bmxvYWRNYW5hZ2VyLnJlc3RhcnRBbGxDdXJyZW50RG93bmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgUmVzdGFuZ3VsYXIub25lKFwidGFza1wiKS5jdXN0b21HRVQoXCJkb3dubG9hZE1hbmFnZXIvcmVzdGFydEFsbEN1cnJlbnREb3dubG9hZFwiKTtcbiAgICB9O1xuICAgIGRvd25sb2FkTWFuYWdlci5yZW1vdmVGcm9tUXVldWUgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIFJlc3Rhbmd1bGFyLm9uZShcInRhc2tcIikuY3VzdG9tREVMRVRFKFwiZG93bmxvYWRNYW5hZ2VyL3F1ZXVlL1wiICsgaXRlbS5pZCk7Ly8udGhlbigkc2NvcGUucmVmcmVzaFdhaXRpbmdJdGVtcyk7XG4gICAgfTtcblxuICAgIGRvd25sb2FkTWFuYWdlci51cGRhdGVOdW1iZXJPZlNpbURsID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgICAgIFJlc3Rhbmd1bGFyLm9uZShcInRhc2tcIikuY3VzdG9tUE9TVChudW1iZXIsIFwiZG93bmxvYWRNYW5hZ2VyL2xpbWl0XCIpO1xuICAgIH07XG5cbiAgICBkb3dubG9hZE1hbmFnZXIuZG9udERvbndsb2FkID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJ0YXNrXCIpLmN1c3RvbURFTEVURShcImRvd25sb2FkTWFuYWdlci9xdWV1ZS9cIiArIGl0ZW0uaWQgKyBcIi9hbmRzdG9wXCIpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZG93bmxvYWRNYW5hZ2VyO1xufSk7IiwiYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QuY29udHJvbGxlcicpXG4gICAgLmNvbnRyb2xsZXIoJ0Rvd25sb2FkQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGVQYXJhbXMsIFJlc3Rhbmd1bGFyLCBuZ3N0b21wLCBEb253bG9hZE1hbmFnZXIsICRsb2csIE5vdGlmaWNhdGlvbiwgJHdpbmRvdykge1xuICAgICAgICAkc2NvcGUuaXRlbXMgPSBSZXN0YW5ndWxhci5hbGwoXCJ0YXNrL2Rvd25sb2FkTWFuYWdlci9kb3dubG9hZGluZ1wiKS5nZXRMaXN0KCkuJG9iamVjdDtcbiAgICAgICAgJHNjb3BlLndhaXRpbmdpdGVtcyA9IFtdO1xuXG5cbiAgICAgICAgLy8qKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mjc0Mjg0ICoqL1xuICAgICAgICAvLyBJc3N1ZSBmaXhlZCBpbiB0aGUgTTM3IG9mIENocm9tZSA6XG4gICAgICAgICRzY29wZS5hY3RpdmVOb3RpZmljYXRpb24gPSB7XG4gICAgICAgICAgICBzdGF0ZSA6ICgoJ05vdGlmaWNhdGlvbicgaW4gJHdpbmRvdykgJiYgJHdpbmRvdy5Ob3RpZmljYXRpb24ucGVybWlzc2lvbiAhPSAnZ3JhbnRlZCcpLFxuICAgICAgICAgICAgbWFudWFsbHlhY3RpdmF0ZSA6IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvblxuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLnJlZnJlc2hXYWl0aW5nSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGVXYWl0aW5nSXRlbXMgPSAkc2NvcGUud2FpdGluZ2l0ZW1zIHx8IFJlc3Rhbmd1bGFyLmFsbChcInRhc2svZG93bmxvYWRNYW5hZ2VyL3F1ZXVlXCIpO1xuICAgICAgICAgICAgc2NvcGVXYWl0aW5nSXRlbXMuZ2V0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHdhaXRpbmdpdGVtcykge1xuICAgICAgICAgICAgICAgICRzY29wZS53YWl0aW5naXRlbXMgPSB3YWl0aW5naXRlbXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJ0YXNrL2Rvd25sb2FkTWFuYWdlci9saW1pdFwiKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUubnVtYmVyT2ZTaW1EbCA9IHBhcnNlSW50KGRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuZ2V0VHlwZUZyb21TdGF0dXMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBcIlBhdXNlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgIHJldHVybiBcImluZm9cIjtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnVwZGF0ZU51bWJlck9mU2ltRGwgPSBEb253bG9hZE1hbmFnZXIudXBkYXRlTnVtYmVyT2ZTaW1EbDtcblxuICAgICAgICAvKiogU3DDqWNpZmlxdWUgYXV4IMOpbMOpbWVudHMgZGUgbGEgbGlzdGUgOiAqKi9cbiAgICAgICAgJHNjb3BlLmRvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLmRvd25sb2FkO1xuICAgICAgICAkc2NvcGUuc3RvcERvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLnN0b3BEb3dubG9hZDtcbiAgICAgICAgJHNjb3BlLnRvZ2dsZURvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLnRvZ2dsZURvd25sb2FkO1xuXG4gICAgICAgIC8qKiBHbG9iYWwgKiovXG4gICAgICAgICRzY29wZS5zdG9wQWxsRG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIuc3RvcEFsbERvd25sb2FkO1xuICAgICAgICAkc2NvcGUucGF1c2VBbGxEb3dubG9hZCA9IERvbndsb2FkTWFuYWdlci5wYXVzZUFsbERvd25sb2FkO1xuICAgICAgICAkc2NvcGUucmVzdGFydEFsbEN1cnJlbnREb3dubG9hZCA9IERvbndsb2FkTWFuYWdlci5yZXN0YXJ0QWxsQ3VycmVudERvd25sb2FkO1xuICAgICAgICAkc2NvcGUucmVtb3ZlRnJvbVF1ZXVlID0gRG9ud2xvYWRNYW5hZ2VyLnJlbW92ZUZyb21RdWV1ZTtcbiAgICAgICAgJHNjb3BlLmRvbnREb253bG9hZCA9IERvbndsb2FkTWFuYWdlci5kb250RG9ud2xvYWQ7XG5cbiAgICAgICAgJHNjb3BlLndzQ2xpZW50ID0gbmdzdG9tcCgnL2Rvd25sb2FkJywgU29ja0pTKTtcbiAgICAgICAgJHNjb3BlLndzQ2xpZW50LmNvbm5lY3QoXCJ1c2VyXCIsIFwicGFzc3dvcmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLndzQ2xpZW50LnN1YnNjcmliZShcIi90b3BpYy9kb3dubG9hZFwiLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gSlNPTi5wYXJzZShtZXNzYWdlLmJvZHkpO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtVG9VcGRhdGUgPSBfLmZpbmQoJHNjb3BlLml0ZW1zLCB7ICdpZCc6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdTdGFydGVkJyA6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1BhdXNlZCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1Ub1VwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmFzc2lnbihlbGVtVG9VcGRhdGUsIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0ZpbmlzaCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGlmaWNhdGlvbignVMOpbMOpY2hhcmdlbWVudCB0ZXJtaW7DqScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBpdGVtLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGl0ZW0uY292ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5OiA1MDAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU3RvcHBlZCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1Ub1VwZGF0ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5yZW1vdmUoJHNjb3BlLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gZWxlbVRvVXBkYXRlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUud3NDbGllbnQuc3Vic2NyaWJlKFwiL2FwcC93YWl0aW5nTGlzdFwiLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS53YWl0aW5naXRlbXMgPSBKU09OLnBhcnNlKG1lc3NhZ2UuYm9keSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS53c0NsaWVudC5zdWJzY3JpYmUoXCIvdG9waWMvd2FpdGluZ0xpc3RcIiwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3RG93bmxvYWRRdWV1ZSA9IEpTT04ucGFyc2UobWVzc2FnZS5ib2R5KTtcblxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChuZXdEb3dubG9hZFF1ZXVlLCBmdW5jdGlvbiAoaXRlbSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleE9mQ3VycmVudEVsZW1lbnQgPSBfLmZpbmRJbmRleCgkc2NvcGUud2FpdGluZ2l0ZW1zLCB7ICdpZCc6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleE9mQ3VycmVudEVsZW1lbnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUud2FpdGluZ2l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLndhaXRpbmdpdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhPZkN1cnJlbnRFbGVtZW50ID0gXy5maW5kSW5kZXgobmV3RG93bmxvYWRRdWV1ZSwgeyAnaWQnOiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhPZkN1cnJlbnRFbGVtZW50ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndhaXRpbmdpdGVtcy5zcGxpY2Uoa2V5LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS53c0NsaWVudC5kaXNjb25uZWN0KGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgIH0pO1xuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LmNvbnRyb2xsZXInKVxuICAgIC5jb250cm9sbGVyKCdJdGVtRGV0YWlsQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgJGh0dHAsIFJlc3Rhbmd1bGFyLCBuZ3N0b21wLCBEb253bG9hZE1hbmFnZXIpIHtcblxuICAgICAgICB2YXIgaWRJdGVtID0gJHJvdXRlUGFyYW1zLml0ZW1JZDtcblxuICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJpdGVtXCIsIGlkSXRlbSkuZ2V0KCkudGhlbihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbSA9IGl0ZW07XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbS5vbmUoXCJwb2RjYXN0XCIpLmdldCgpLnRoZW4oZnVuY3Rpb24ocG9kY2FzdCkge1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLml0ZW0ucG9kY2FzdCA9IHBvZGNhc3Q7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUud3NDbGllbnQgPSBuZ3N0b21wKFwiL2Rvd25sb2FkXCIsIFNvY2tKUyk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLndzQ2xpZW50LmNvbm5lY3QoXCJ1c2VyXCIsIFwicGFzc3dvcmRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndzQ2xpZW50LnN1YnNjcmliZShcIi90b3BpYy9wb2RjYXN0L1wiICsgcG9kY2FzdC5pZCwgZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1Gcm9tV1MgPSBKU09OLnBhcnNlKG1lc3NhZ2UuYm9keSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtRnJvbVdTLmlkID09ICRzY29wZS5pdGVtLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5hc3NpZ24oJHNjb3BlLml0ZW0sIGl0ZW1Gcm9tV1MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndzQ2xpZW50LmRpc2Nvbm5lY3QoZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBSZXN0YW5ndWxhci5vbmUoXCJpdGVtXCIsIGl0ZW0uaWQpLnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvZGNhc3QuaXRlbXMgPSBfLnJlamVjdCgkc2NvcGUucG9kY2FzdC5pdGVtcywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW0uaWQgPT0gaXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIuZG93bmxvYWQ7XG4gICAgICAgICRzY29wZS5zdG9wRG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIuc3RvcERvd25sb2FkO1xuICAgICAgICAkc2NvcGUudG9nZ2xlRG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIudG9nZ2xlRG93bmxvYWQ7XG5cbiAgICB9KSIsImFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LmNvbnRyb2xsZXInKVxuICAgIC5jb250cm9sbGVyKCdJdGVtc0xpc3RDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb3V0ZVBhcmFtcywgJGNhY2hlRmFjdG9yeSwgUmVzdGFuZ3VsYXIsIG5nc3RvbXAsIERvbndsb2FkTWFuYWdlciwgJGxvZywgJGxvY2F0aW9uKSB7XG5cbiAgICAgICAgLy8gR2VzdGlvbiBkdSBjYWNoZSBkZSBsYSBwYWdpbmF0aW9uIDpcbiAgICAgICAgdmFyIGNhY2hlID0gJGNhY2hlRmFjdG9yeS5nZXQoJ3BhZ2luYXRpb25DYWNoZScpIHx8ICRjYWNoZUZhY3RvcnkoJ3BhZ2luYXRpb25DYWNoZScpLFxuICAgICAgICAgICAgbnVtYmVyQnlQYWdlID0gMTI7XG5cbiAgICAgICAgLy8kc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uIChwYWdlTm8pIHtcbiAgICAgICAgJHNjb3BlLmNoYW5nZVBhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSA9ICgkc2NvcGUuY3VycmVudFBhZ2UgPCAxKSA/IDEgOiAoJHNjb3BlLmN1cnJlbnRQYWdlID4gTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gbnVtYmVyQnlQYWdlKSkgPyBNYXRoLmNlaWwoJHNjb3BlLnRvdGFsSXRlbXMgLyBudW1iZXJCeVBhZ2UpIDogJHNjb3BlLmN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgUmVzdGFuZ3VsYXIub25lKFwiaXRlbS9wYWdpbmF0aW9uXCIpLmdldCh7c2l6ZTogbnVtYmVyQnlQYWdlLCBwYWdlIDogJHNjb3BlLmN1cnJlbnRQYWdlIC0gMSwgZGlyZWN0aW9uIDogJ0RFU0MnLCBwcm9wZXJ0aWVzIDogJ3B1YmRhdGUnfSkudGhlbihmdW5jdGlvbihpdGVtc1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zID0gaXRlbXNSZXNwb25zZS5jb250ZW50O1xuICAgICAgICAgICAgICAgICRzY29wZS50b3RhbEl0ZW1zID0gcGFyc2VJbnQoaXRlbXNSZXNwb25zZS50b3RhbEVsZW1lbnRzKTtcbiAgICAgICAgICAgICAgICBjYWNoZS5wdXQoJ2N1cnJlbnRQYWdlJywgJHNjb3BlLmN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24uc2VhcmNoKFwicGFnZVwiLCAkc2NvcGUuY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignJHJvdXRlVXBkYXRlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudFBhZ2UgIT09ICRsb2NhdGlvbi5zZWFyY2goKS5wYWdlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlID0gJGxvY2F0aW9uLnNlYXJjaCgpLnBhZ2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTG9uZ2V1ciBpbmNvbm51IGF1IGNoYXJnZW1lbnQgOlxuICAgICAgICAkc2NvcGUudG90YWxJdGVtcyA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICRzY29wZS5tYXhTaXplID0gMTA7XG4gICAgICAgICRzY29wZS5jdXJyZW50UGFnZSA9IGNhY2hlLmdldChcImN1cnJlbnRQYWdlXCIpIHx8IDE7XG4gICAgICAgICRzY29wZS5jaGFuZ2VQYWdlKCk7XG5cbiAgICAgICAgJHNjb3BlLmRvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLmRvd25sb2FkO1xuICAgICAgICAkc2NvcGUuc3RvcERvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLnN0b3BEb3dubG9hZDtcbiAgICAgICAgJHNjb3BlLnRvZ2dsZURvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLnRvZ2dsZURvd25sb2FkO1xuXG4gICAgICAgICRzY29wZS53c0NsaWVudCA9IG5nc3RvbXAoJy9kb3dubG9hZCcsIFNvY2tKUyk7XG4gICAgICAgICRzY29wZS53c0NsaWVudC5jb25uZWN0KFwidXNlclwiLCBcInBhc3N3b3JkXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUud3NDbGllbnQuc3Vic2NyaWJlKFwiL3RvcGljL2Rvd25sb2FkXCIsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IEpTT04ucGFyc2UobWVzc2FnZS5ib2R5KTtcblxuICAgICAgICAgICAgICAgIHZhciBlbGVtVG9VcGRhdGUgPSBfLmZpbmQoJHNjb3BlLml0ZW1zLCB7ICdpZCc6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1Ub1VwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgXy5hc3NpZ24oZWxlbVRvVXBkYXRlLCBpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUud3NDbGllbnQuZGlzY29ubmVjdChmdW5jdGlvbigpe30pO1xuICAgICAgICB9KTtcblxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QuY29udHJvbGxlcicpXG4gICAgLmNvbnRyb2xsZXIoJ0l0ZW1zU2VhcmNoQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGVQYXJhbXMsICRjYWNoZUZhY3RvcnksICRsb2NhdGlvbiwgUmVzdGFuZ3VsYXIsIG5nc3RvbXAsIERvbndsb2FkTWFuYWdlcikge1xuXG4gICAgICAgIHZhciB0YWdzID0gUmVzdGFuZ3VsYXIuYWxsKFwidGFnXCIpLFxuICAgICAgICAgICAgbnVtYmVyQnlQYWdlID0gMTI7XG4gICAgICAgICRzY29wZS5sb2FkVGFncyA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGFncy5wb3N0KG51bGwsIHtuYW1lIDogcXVlcnl9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBHZXN0aW9uIGR1IGNhY2hlIGRlIGxhIHBhZ2luYXRpb24gOlxuICAgICAgICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5LmdldCgncGFnaW5hdGlvbkNhY2hlJykgfHwgJGNhY2hlRmFjdG9yeSgncGFnaW5hdGlvbkNhY2hlJyk7XG5cbiAgICAgICAgLy8kc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uIChwYWdlTm8pIHtcbiAgICAgICAgJHNjb3BlLmNoYW5nZVBhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSA9ICgkc2NvcGUuY3VycmVudFBhZ2UgPCAxKSA/IDEgOiAoJHNjb3BlLmN1cnJlbnRQYWdlID4gTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gbnVtYmVyQnlQYWdlKSkgPyBNYXRoLmNlaWwoJHNjb3BlLnRvdGFsSXRlbXMgLyBudW1iZXJCeVBhZ2UpIDogJHNjb3BlLmN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgUmVzdGFuZ3VsYXIub25lKFwiaXRlbS9wYWdpbmF0aW9uL3RhZ3NcIikucG9zdChudWxsLCB7dGFncyA6ICRzY29wZS5zZWFyY2hUYWdzLCBzaXplOiBudW1iZXJCeVBhZ2UsIHBhZ2UgOiAkc2NvcGUuY3VycmVudFBhZ2UgLSAxLCBkaXJlY3Rpb24gOiAnREVTQycsIHByb3BlcnRpZXMgOiAncHViZGF0ZSd9KS50aGVuKGZ1bmN0aW9uKGl0ZW1zUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBpdGVtc1Jlc3BvbnNlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsSXRlbXMgPSBwYXJzZUludChpdGVtc1Jlc3BvbnNlLnRvdGFsRWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIGNhY2hlLnB1dCgnY3VycmVudFNlYXJjaFBhZ2UnLCAkc2NvcGUuY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5zZWFyY2goXCJwYWdlXCIsICRzY29wZS5jdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckcm91dGVVcGRhdGUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50UGFnZSAhPT0gJGxvY2F0aW9uLnNlYXJjaCgpLnBhZ2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgPSAkbG9jYXRpb24uc2VhcmNoKCkucGFnZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlUGFnZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMb25nZXVyIGluY29ubnUgYXUgY2hhcmdlbWVudCA6XG4gICAgICAgICRzY29wZS50b3RhbEl0ZW1zID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgJHNjb3BlLm1heFNpemUgPSAxMDtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlID0gY2FjaGUuZ2V0KFwiY3VycmVudFNlYXJjaFBhZ2VcIikgfHwgMTtcbiAgICAgICAgJHNjb3BlLmNoYW5nZVBhZ2UoKTtcblxuICAgICAgICAkc2NvcGUuZG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIuZG93bmxvYWQ7XG4gICAgICAgICRzY29wZS5zdG9wRG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIuc3RvcERvd25sb2FkO1xuICAgICAgICAkc2NvcGUudG9nZ2xlRG93bmxvYWQgPSBEb253bG9hZE1hbmFnZXIudG9nZ2xlRG93bmxvYWQ7XG5cbiAgICAgICAgJHNjb3BlLndzQ2xpZW50ID0gbmdzdG9tcCgnL2Rvd25sb2FkJywgU29ja0pTKTtcbiAgICAgICAgJHNjb3BlLndzQ2xpZW50LmNvbm5lY3QoXCJ1c2VyXCIsIFwicGFzc3dvcmRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS53c0NsaWVudC5zdWJzY3JpYmUoXCIvdG9waWMvZG93bmxvYWRcIiwgZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gSlNPTi5wYXJzZShtZXNzYWdlLmJvZHkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1Ub1VwZGF0ZSA9IF8uZmluZCgkc2NvcGUuaXRlbXMsIHsgJ2lkJzogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbVRvVXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBfLmFzc2lnbihlbGVtVG9VcGRhdGUsIGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS53c0NsaWVudC5kaXNjb25uZWN0KGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgIH0pO1xuXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5jb250cm9sbGVyJylcbiAgICAuY29udHJvbGxlcignUG9kY2FzdEFkZEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBSZXN0YW5ndWxhcikge1xuICAgICAgICB2YXIgcG9kY2FzdHMgPSBSZXN0YW5ndWxhci5hbGwoXCJwb2RjYXN0XCIpLFxuICAgICAgICAgICAgdGFncyA9IFJlc3Rhbmd1bGFyLmFsbChcInRhZ1wiKTtcblxuICAgICAgICAkc2NvcGUucG9kY2FzdCA9IHtcbiAgICAgICAgICAgIGhhc1RvQmVEZWxldGVkIDogdHJ1ZSxcbiAgICAgICAgICAgIGNvdmVyIDoge1xuICAgICAgICAgICAgICAgIGhlaWdodDogMjAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAyMDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubG9hZFRhZ3MgPSBmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhZ3MucG9zdChudWxsLCB7bmFtZSA6IHF1ZXJ5fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNoYW5nZVR5cGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgvYmVpbnNwb3J0c1xcLmZyL2kudGVzdCgkc2NvcGUucG9kY2FzdC51cmwpKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvZGNhc3QudHlwZSA9IFwiQmVJblNwb3J0c1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvY2FuYWxwbHVzXFwuZnIvaS50ZXN0KCRzY29wZS5wb2RjYXN0LnVybCkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9kY2FzdC50eXBlID0gXCJDYW5hbFBsdXNcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL2pldXh2aWRlb1xcLmZyL2kudGVzdCgkc2NvcGUucG9kY2FzdC51cmwpKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvZGNhc3QudHlwZSA9IFwiSmV1eFZpZGVvRlJcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL3BhcmxleXNcXC5jb20vaS50ZXN0KCRzY29wZS5wb2RjYXN0LnVybCkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9kY2FzdC50eXBlID0gXCJQYXJsZXlzXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC95b3V0dWJlXFwuY29tL2kudGVzdCgkc2NvcGUucG9kY2FzdC51cmwpKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvZGNhc3QudHlwZSA9IFwiWW91dHViZVwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUucG9kY2FzdC51cmwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wb2RjYXN0LnR5cGUgPSBcIlJTU1wiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9kY2FzdC50eXBlID0gXCJTZW5kXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBvZGNhc3RzLnBvc3QoJHNjb3BlLnBvZGNhc3QpO1xuICAgICAgICB9O1xuICAgIH0pOyIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaHRtbC9kb3dubG9hZC5odG1sJyxcbiAgICAnPCEtLTxkaXYgY2xhc3M9XCJqdW1ib3Ryb25cIj4tLT5cXG4nICtcbiAgICAnICAgIDwhLS08ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+LS0+XFxuJyArXG4gICAgJyAgICAgICAgPCEtLTxoMT5Uw6lsw6ljaGFyZ2VtZW50PC9oMT4tLT5cXG4nICtcbiAgICAnICAgIDwhLS08L2Rpdj4tLT5cXG4nICtcbiAgICAnPCEtLTwvZGl2Pi0tPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lciBkb3dubG9hZExpc3RcIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwicm93IGZvcm0taG9yaXpvbnRhbFwiIHN0eWxlPVwibWFyZ2luLXRvcDogMTVweDtcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLW9mZnNldC0xIGNvbC1tZC1vZmZzZXQtMSBjb2wtc20tb2Zmc2V0LTEgY29sLWxnLW9mZnNldC0xIGZvcm0tZ3JvdXAgY29sLW1kLTYgY29sLWxnLTYgY29sLXhzLTYgY29sLXNtLTYgXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInB1bGwtbGVmdCBjb250cm9sLWxhYmVsXCI+VMOpbMOpY2hhcmdlbWVudHMgc2ltdWx0YW7DqXM8L2xhYmVsPlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTMgY29sLWxnLTMgY29sLXhzLTMgY29sLXNtLTNcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm51bWJlck9mU2ltRGxcIiBuZy1jaGFuZ2U9XCJ1cGRhdGVOdW1iZXJPZlNpbURsKG51bWJlck9mU2ltRGwpXCIgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJOdW1iZXIgb2YgZG93bmxvYWRcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPHNwYW4+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxhIG5nLXNob3c9XCJhY3RpdmVOb3RpZmljYXRpb24uc3RhdGVcIiBuZy1jbGljaz1cImFjdGl2ZU5vdGlmaWNhdGlvbi5tYW51YWxseWFjdGl2YXRlKClcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPkFjdGl2ZXIgTm90aWZpY2F0aW9uPC9hPlxcbicgK1xuICAgICcgICAgICAgIDwvc3Bhbj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIHB1bGwtcmlnaHRcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlc3RhcnRBbGxEb3dubG9hZCgpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCI+RMOpbWFycmVyPC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwYXVzZUFsbERvd25sb2FkKClcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj5QYXVzZTwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic3RvcEFsbERvd25sb2FkKClcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj5TdG9wPC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJtZWRpYVwiICBuZy1yZXBlYXQ9XCJpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWQgfCBvcmRlckJ5OnByb2dyZXNzaW9uXCIgPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uTGlzdCBwdWxsLXJpZ2h0XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxici8+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ0b2dnbGVEb3dubG9hZChpdGVtKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGxheVwiPjwvaT48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGF1c2VcIj48L2k+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzdG9wRG93bmxvYWQoaXRlbSlcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlciBidG4tc21cIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tc3RvcFwiPjwvc3Bhbj48L2J1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPGEgY2xhc3M9XCJwdWxsLWxlZnRcIiBuZy1ocmVmPVwiIy9pdGVtL3t7aXRlbS5pZH19XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxpbWcgbmctc3JjPVwie3tpdGVtLmNvdmVyLnVybH19XCIgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiBzdHlsZT1cIlwiPlxcbicgK1xuICAgICcgICAgICAgIDwvYT5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGg1IGNsYXNzPVwibWVkaWEtaGVhZGluZ1wiPnt7aXRlbS50aXRsZSB8IGNoYXJhY3RlcnM6MTAwfX08L2g1PlxcbicgK1xuICAgICcgICAgICAgICAgICA8YnIvPlxcbicgK1xuICAgICcgICAgICAgICAgICA8cHJvZ3Jlc3NiYXIgY2xhc3M9XCJwcm9ncmVzcy1zdHJpcGVkIGFjdGl2ZVwiIGFuaW1hdGU9XCJmYWxzZVwiIHZhbHVlPVwiaXRlbS5wcm9ncmVzc2lvblwiIHR5cGU9XCJ7eyBnZXRUeXBlRnJvbVN0YXR1cyhpdGVtKSB9fVwiPnt7aXRlbS5wcm9ncmVzc2lvbn19JTwvcHJvZ3Jlc3NiYXI+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPGJyLz5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8YWNjb3JkaW9uIGNsb3NlLW90aGVycz1cInRydWVcIj5cXG4nICtcbiAgICAnICAgICAgICA8YWNjb3JkaW9uLWdyb3VwIGhlYWRpbmc9XCJMaXN0ZSBkXFwnYXR0ZW50ZVwiIGlzLW9wZW49XCJmYWxzZVwiPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhXCIgIG5nLXJlcGVhdD1cIml0ZW0gaW4gd2FpdGluZ2l0ZW1zXCIgPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdWxsLXJpZ2h0XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZUZyb21RdWV1ZShpdGVtKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tbWludXNcIj48L2k+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImRvbnREb253bG9hZChpdGVtKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi1zbVwiPjxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1zdG9wXCI+PC9pPjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJwdWxsLWxlZnRcIiBuZy1ocmVmPVwiIy9pdGVtL3t7aXRlbS5pZH19XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGltZyBuZy1zcmM9XCJ7e2l0ZW0uY292ZXIudXJsfX1cIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIHN0eWxlPVwiXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2E+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJtZWRpYS1oZWFkaW5nXCI+e3tpdGVtLnRpdGxlIHwgY2hhcmFjdGVyczoxMDB9fTwvaDQ+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDwvYWNjb3JkaW9uLWdyb3VwPlxcbicgK1xuICAgICcgICAgPC9hY2NvcmRpb24+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnPC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5wYXJ0aWFsJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2h0bWwvaXRlbS1kZXRhaWwuaHRtbCcsXG4gICAgJ1xcbicgK1xuICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPGJyLz5cXG4nICtcbiAgICAnICAgIDxvbCBjbGFzcz1cImJyZWFkY3J1bWJcIj5cXG4nICtcbiAgICAnICAgICAgICA8bGk+PGEgaHJlZj1cIi8jL3BvZGNhc3RzXCI+UG9kY2FzdHM8L2E+PC9saT5cXG4nICtcbiAgICAnICAgICAgICA8bGk+PGEgbmctaHJlZj1cIi8jL3BvZGNhc3Qve3sgaXRlbS5wb2RjYXN0LmlkIH19XCI+IHt7IGl0ZW0ucG9kY2FzdC50aXRsZSB9fTwvYT48L2xpPlxcbicgK1xuICAgICcgICAgICAgIDxsaSBjbGFzcz1cImFjdGl2ZVwiPnt7IGl0ZW0udGl0bGUgfX08L2xpPlxcbicgK1xuICAgICcgICAgPC9vbD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8ZGl2PlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTEyIGNvbC1tZC0zIGNvbC1sZy0zXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aHVtYm5haWxcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxhIG5nLWhyZWY9XCJ7eyBpdGVtLmxvY2FsVXJsIHx8IGl0ZW0udXJsIH19XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImNlbnRlci1ibG9ja1wiIG5nLXNyYz1cInt7aXRlbS5jb3Zlci51cmx9fVwiIHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiMjAwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2E+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcHRpb25cIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbkxpc3QgdGV4dC1jZW50ZXJcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBUw6lsw6ljaGFyZ2VtZW50IGVuIGNvdXJzIC0tPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIG5nLWlmPVwiaXRlbS5zdGF0dXMgPT0gXFwnU3RhcnRlZFxcJyB8fCBpdGVtLnN0YXR1cyA9PSBcXCdQYXVzZWRcXCdcIiA+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ0b2dnbGVEb3dubG9hZChpdGVtKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBcIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGxheVwiPjwvaT48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGF1c2VcIj48L2k+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzdG9wRG93bmxvYWQoaXRlbSlcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1zdG9wXCI+PC9zcGFuPjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gTGFuY2VyIGxlIHTDqWzDqWNoYXJnZW1lbnQgLS0+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJkb3dubG9hZChpdGVtKVwiIG5nLWlmPVwiKGl0ZW0uc3RhdHVzICE9IFxcJ1N0YXJ0ZWRcXCcgJiYgaXRlbS5zdGF0dXMgIT0gXFwnUGF1c2VkXFwnICkgJiYgaXRlbS5sb2NhbFVybCA9PSBudWxsIFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1zYXZlXCI+PC9zcGFuPjwvYnV0dG9uPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBBY2PDqWRlciBhdSBmaWNoaWVyIC0tPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8YSBuZy1ocmVmPVwie3sgaXRlbS51cmwgfX1cIiBuZy1pZj1cIml0ZW0ubG9jYWxVcmwgPT0gbnVsbFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mb1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1nbG9iZVwiPjwvc3Bhbj48L2E+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxhIG5nLWhyZWY9XCJ7eyBpdGVtLmxvY2FsVXJsIH19XCIgbmctaWY9XCJpdGVtLmxvY2FsVXJsICE9IG51bGxcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGxheVwiPjwvc3Bhbj48L2E+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFN1cHByaW1lciBsXFwnaXRlbSAtLT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZShpdGVtKVwiIG5nLWlmPVwiKGl0ZW0uc3RhdHVzICE9IFxcJ1N0YXJ0ZWRcXCcgJiYgaXRlbS5zdGF0dXMgIT0gXFwnUGF1c2VkXFwnIClcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTEyIGNvbC1tZC05IGNvbC1sZy05XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxici8+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInBhbmVsLXRpdGxlXCI+e3sgaXRlbS50aXRsZSB9fTwvaDM+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAge3sgaXRlbS5kZXNjcmlwdGlvbiB8IGh0bWxUb1BsYWludGV4dCB9fVxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtZm9vdGVyXCI+RGF0ZSBkZSBwdWJsaWNhdGlvbiA6IDxzdHJvbmc+e3tpdGVtLnB1YmRhdGUgfCBkYXRlIDogXFwnZGQvTU0veXl5eSDDoCBISDptbVxcJyB9fTwvc3Ryb25nPjwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcnKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaHRtbC9pdGVtcy1saXN0Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGl0ZW0tbGlzdGluZ1wiPlxcbicgK1xuICAgICcgICAgPCEtLTxkaXYgY2xhc3M9XCJjb2wteHMtMTEgY29sLXNtLTExIGNvbC1sZy0xMSBjb2wtbWQtMTFcIj4tLT5cXG4nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxcbicgK1xuICAgICcgICAgICAgIDxwYWdpbmF0aW9uIGl0ZW1zLXBlci1wYWdlPVwiMTJcIiBtYXgtc2l6ZT1cIjEwXCIgYm91bmRhcnktbGlua3M9XCJ0cnVlXCIgdG90YWwtaXRlbXM9XCJ0b3RhbEl0ZW1zXCIgbmctbW9kZWw9XCJjdXJyZW50UGFnZVwiIG5nLWNoYW5nZT1cImNoYW5nZVBhZ2UoKVwiIGNsYXNzPVwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLWNlbnRlcmVkXCIgcHJldmlvdXMtdGV4dD1cIiZsc2FxdW87XCIgbmV4dC10ZXh0PVwiJnJzYXF1bztcIiBmaXJzdC10ZXh0PVwiJmxhcXVvO1wiIGxhc3QtdGV4dD1cIiZyYXF1bztcIj48L3BhZ2luYXRpb24+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgY2xhc3M9XCJjb2wteHMtNiBjb2wtc20tNCBjb2wtbWQtMyBjb2wtbGctMyBpdGVtSW5MaXN0XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIlwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8YSBuZy1ocmVmPVwiIy9pdGVtL3t7aXRlbS5pZH19XCIgPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBuZy1zcmM9XCJ7eyBpdGVtLmNvdmVyLnVybCB9fVwiIGFsdD1cIlwiIGNsYXNzPVwiaW1nLXJvdW5kZWQgaW1nLXJlc3BvbnNpdmVcIiAvPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIGNsZWFyZml4IGl0ZW1UaXRsZVwiID5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPHA+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBpdGVtLnRpdGxlIHwgY2hhcmFjdGVyczo1MCB9fVxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHJvdy1idXR0b25cIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gbmctaWY9XCJpdGVtLnN0YXR1cyA9PSBcXCdTdGFydGVkXFwnIHx8IGl0ZW0uc3RhdHVzID09IFxcJ1BhdXNlZFxcJ1wiID5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ0b2dnbGVEb3dubG9hZChpdGVtKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBcIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGxheVwiPjwvaT48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGF1c2VcIj48L2k+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic3RvcERvd25sb2FkKGl0ZW0pXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tc3RvcFwiPjwvc3Bhbj48L2J1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImRvd25sb2FkKGl0ZW0pXCIgbmctaWY9XCIoaXRlbS5zdGF0dXMgIT0gXFwnU3RhcnRlZFxcJyAmJiBpdGVtLnN0YXR1cyAhPSBcXCdQYXVzZWRcXCcgKSAmJiBpdGVtLmxvY2FsVXJsID09IG51bGwgXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXNhdmVcIj48L3NwYW4+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJ7eyBpdGVtLnByb3h5VVJMIH19XCIgbmctaWY9XCJpdGVtLmxvY2FsVXJsID09IG51bGxcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm9cIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZ2xvYmVcIj48L3NwYW4+PC9hPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cInt7IGl0ZW0ucHJveHlVUkwgfX1cIiBuZy1pZj1cIml0ZW0ubG9jYWxVcmwgIT0gbnVsbFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbGF5XCI+PC9zcGFuPjwvYT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZShpdGVtKVwiIG5nLWlmPVwiaXRlbS5sb2NhbFVybCAhPSBudWxsXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlXCI+PC9zcGFuPjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPCEtLTwvZGl2Pi0tPlxcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHJvd1wiPlxcbicgK1xuICAgICcgICAgICAgIDxwYWdpbmF0aW9uIGl0ZW1zLXBlci1wYWdlPVwiMTJcIiBtYXgtc2l6ZT1cIjEwXCIgYm91bmRhcnktbGlua3M9XCJ0cnVlXCIgdG90YWwtaXRlbXM9XCJ0b3RhbEl0ZW1zXCIgbmctbW9kZWw9XCJjdXJyZW50UGFnZVwiIG5nLWNoYW5nZT1cImNoYW5nZVBhZ2UoKVwiIGNsYXNzPVwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLWNlbnRlcmVkXCIgcHJldmlvdXMtdGV4dD1cIiZsc2FxdW87XCIgbmV4dC10ZXh0PVwiJnJzYXF1bztcIiBmaXJzdC10ZXh0PVwiJmxhcXVvO1wiIGxhc3QtdGV4dD1cIiZyYXF1bztcIj48L3BhZ2luYXRpb24+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnPC9kaXY+XFxuJyArXG4gICAgJycpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5wYXJ0aWFsJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdodG1sL2l0ZW1zLXNlYXJjaC5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lciBpdGVtLWxpc3RpbmdcIj5cXG4nICtcbiAgICAnICAgIDwhLS08ZGl2IGNsYXNzPVwiY29sLXhzLTExIGNvbC1zbS0xMSBjb2wtbGctMTEgY29sLW1kLTExXCI+LS0+XFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+XFxuJyArXG4gICAgJyAgICAgICAgPHRhZ3MtaW5wdXQgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgVGFnc1wiIGFkZC1mcm9tLWF1dG9jb21wbGV0ZS1vbmx5PVwidHJ1ZVwiIG5nLW1vZGVsPVwic2VhcmNoVGFnc1wiIGRpc3BsYXktcHJvcGVydHk9XCJuYW1lXCIgbWluLWxlbmd0aD1cIjFcIiBjbGFzcz1cImJvb3RzdHJhcFwiIG9uLXRhZy1hZGRlZD1cImN1cnJlbnRTZWFyY2hQYWdlPTE7IGNoYW5nZVBhZ2UoKVwiIG9uLXRhZy1yZW1vdmVkPVwiY3VycmVudFBhZ2U9MTsgY2hhbmdlUGFnZSgpXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxhdXRvLWNvbXBsZXRlIHNvdXJjZT1cImxvYWRUYWdzKCRxdWVyeSlcIiBtaW4tbGVuZ3RoPVwiMlwiPjwvYXV0by1jb21wbGV0ZT5cXG4nICtcbiAgICAnICAgICAgICA8L3RhZ3MtaW5wdXQ+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cXG4nICtcbiAgICAnICAgICAgICA8cGFnaW5hdGlvbiBpdGVtcy1wZXItcGFnZT1cIjEyXCIgbWF4LXNpemU9XCIxMFwiIGJvdW5kYXJ5LWxpbmtzPVwidHJ1ZVwiIHRvdGFsLWl0ZW1zPVwidG90YWxJdGVtc1wiIG5nLW1vZGVsPVwiY3VycmVudFBhZ2VcIiBuZy1jaGFuZ2U9XCJjaGFuZ2VQYWdlKClcIiBjbGFzcz1cInBhZ2luYXRpb24gcGFnaW5hdGlvbi1jZW50ZXJlZFwiIHByZXZpb3VzLXRleHQ9XCImbHNhcXVvO1wiIG5leHQtdGV4dD1cIiZyc2FxdW87XCIgZmlyc3QtdGV4dD1cIiZsYXF1bztcIiBsYXN0LXRleHQ9XCImcmFxdW87XCI+PC9wYWdpbmF0aW9uPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIGNsYXNzPVwiY29sLXhzLTYgY29sLXNtLTQgY29sLW1kLTMgY29sLWxnLTMgaXRlbUluTGlzdFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGEgbmctaHJlZj1cIiMvaXRlbS97e2l0ZW0uaWR9fVwiID5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgbmctc3JjPVwie3sgaXRlbS5jb3Zlci51cmwgfX1cIiBhbHQ9XCJcIiBjbGFzcz1cImltZy1yb3VuZGVkIGltZy1yZXNwb25zaXZlXCIgLz5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBjbGVhcmZpeCBpdGVtVGl0bGVcIiA+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgaXRlbS50aXRsZSB8IGNoYXJhY3RlcnM6NTAgfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciByb3ctYnV0dG9uXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIG5nLWlmPVwiaXRlbS5zdGF0dXMgPT0gXFwnU3RhcnRlZFxcJyB8fCBpdGVtLnN0YXR1cyA9PSBcXCdQYXVzZWRcXCdcIiA+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwidG9nZ2xlRG93bmxvYWQoaXRlbSlcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgXCI+PGkgY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXBsYXlcIj48L2k+PGkgY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXBhdXNlXCI+PC9pPjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInN0b3BEb3dubG9hZChpdGVtKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXN0b3BcIj48L3NwYW4+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJkb3dubG9hZChpdGVtKVwiIG5nLWlmPVwiKGl0ZW0uc3RhdHVzICE9IFxcJ1N0YXJ0ZWRcXCcgJiYgaXRlbS5zdGF0dXMgIT0gXFwnUGF1c2VkXFwnICkgJiYgaXRlbS5sb2NhbFVybCA9PSBudWxsIFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1zYXZlXCI+PC9zcGFuPjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwie3sgaXRlbS5wcm94eVVSTCB9fVwiIG5nLWlmPVwiaXRlbS5sb2NhbFVybCA9PSBudWxsXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWdsb2JlXCI+PC9zcGFuPjwvYT5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJ7eyBpdGVtLnByb3h5VVJMIH19XCIgbmctaWY9XCJpdGVtLmxvY2FsVXJsICE9IG51bGxcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIj48c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGxheVwiPjwvc3Bhbj48L2E+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJyZW1vdmUoaXRlbSlcIiBuZy1pZj1cIml0ZW0ubG9jYWxVcmwgIT0gbnVsbFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiPjwvc3Bhbj48L2J1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwhLS08L2Rpdj4tLT5cXG4nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciByb3dcIj5cXG4nICtcbiAgICAnICAgICAgICA8cGFnaW5hdGlvbiBpdGVtcy1wZXItcGFnZT1cIjEyXCIgbWF4LXNpemU9XCIxMFwiIGJvdW5kYXJ5LWxpbmtzPVwidHJ1ZVwiIHRvdGFsLWl0ZW1zPVwidG90YWxJdGVtc1wiIG5nLW1vZGVsPVwiY3VycmVudFBhZ2VcIiBuZy1jaGFuZ2U9XCJjaGFuZ2VQYWdlKClcIiBjbGFzcz1cInBhZ2luYXRpb24gcGFnaW5hdGlvbi1jZW50ZXJlZFwiIHByZXZpb3VzLXRleHQ9XCImbHNhcXVvO1wiIG5leHQtdGV4dD1cIiZyc2FxdW87XCIgZmlyc3QtdGV4dD1cIiZsYXF1bztcIiBsYXN0LXRleHQ9XCImcmFxdW87XCI+PC9wYWdpbmF0aW9uPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvZGl2PlxcbicgK1xuICAgICcnKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaHRtbC9wb2RjYXN0LWFkZC5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImp1bWJvdHJvblwiPlxcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxcbicgK1xuICAgICcgICAgICAgIDxoMT5Bam91dGVyIHVuIFBvZGNhc3Q8L2gxPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxcbicgK1xuICAgICcgICAgPGZvcm0gY2xhc3M9XCJmb3JtLWhvcml6b250YWxcIiByb2xlPVwiZm9ybVwiPlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0aXRsZVwiIGNsYXNzPVwiY29sLXNtLTEgY29udHJvbC1sYWJlbFwiPlRpdHJlPC9sYWJlbD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJ0aXRsZVwiIG5nLW1vZGVsPVwicG9kY2FzdC50aXRsZVwiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPVwiVGl0cmVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGxhYmVsIGZvcj1cInVybFwiIGNsYXNzPVwiY29sLXNtLTEgY29udHJvbC1sYWJlbFwiPlVSTDwvbGFiZWw+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInVybFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJ1cmxcIiBuZy1tb2RlbD1cInBvZGNhc3QudXJsXCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCJ1cmxcIiBuZy1jaGFuZ2U9XCJjaGFuZ2VUeXBlKClcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrYm94IGNvbC1zbS1vZmZzZXQtMlwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGxhYmVsPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInBvZGNhc3QuaGFzVG9CZURlbGV0ZWRcIiByZXF1aXJlZD4gU3VwcHJlc3Npb24gQXV0b1xcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ1cmxcIiBjbGFzcz1cImNvbC1zbS0xIGNvbnRyb2wtbGFiZWxcIj5UYWdzPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPHRhZ3MtaW5wdXQgbmctbW9kZWw9XCJwb2RjYXN0LnRhZ3NcIiBkaXNwbGF5LXByb3BlcnR5PVwibmFtZVwiIG1pbi1sZW5ndGg9XCIxXCIgY2xhc3M9XCJib290c3RyYXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8YXV0by1jb21wbGV0ZSBzb3VyY2U9XCJsb2FkVGFncygkcXVlcnkpXCIgbWluLWxlbmd0aD1cIjJcIj48L2F1dG8tY29tcGxldGU+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L3RhZ3MtaW5wdXQ+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGxhYmVsIGZvcj1cImhlaWdodFwiIGNsYXNzPVwiY29sLXNtLTEgY29udHJvbC1sYWJlbFwiPlR5cGU8L2xhYmVsPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5nLW1vZGVsPVwicG9kY2FzdC50eXBlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkJlSW5TcG9ydHNcIj5CZSBJbiBTcG9ydHM8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ2FuYWxQbHVzXCI+Q2FuYWwrPC9vcHRpb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkpldXhWaWRlb0ZSXCI+SmV1eCBWaWRlbyBGcjwvb3B0aW9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJQYXJsZXlzXCI+UGFybGV5czwvb3B0aW9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJSU1NcIj5SU1M8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic2VuZFwiPlNlbmQ8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiWW91dHViZVwiPllvdXR1YmU8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTIgY29sLW1kLW9mZnNldC0xXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxpbWcgbmctc3JjPVwie3sgcG9kY2FzdC5jb3Zlci51cmwgfX1cIiBjbGFzcz1cImltZy10aHVtYm5haWxcIiBicy1Ib2xkZXI+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC05XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidXJsXCIgY2xhc3M9XCJjb2wtc20tMiBjb250cm9sLWxhYmVsXCI+VVJMPC9sYWJlbD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInVybFwiIG5nLW1vZGVsPVwicG9kY2FzdC5jb3Zlci51cmxcIiByZXF1aXJlZCBwbGFjZWhvbGRlcj1cInVybFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIndpZHRoXCIgY2xhc3M9XCJjb2wtc20tMiBjb250cm9sLWxhYmVsXCI+TGFnZXVyPC9sYWJlbD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJ3aWR0aFwiIG5nLW1vZGVsPVwicG9kY2FzdC5jb3Zlci53aWR0aFwiIHJlcXVpcmVkXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwidXJsXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiaGVpZ2h0XCIgY2xhc3M9XCJjb2wtc20tMiBjb250cm9sLWxhYmVsXCI+SGF1dGV1cjwvbGFiZWw+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiaGVpZ2h0XCIgbmctbW9kZWw9XCJwb2RjYXN0LmNvdmVyLmhlaWdodFwiIHJlcXVpcmVkXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwidXJsXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLW9mZnNldC0yIGNvbC1zbS0xMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNhdmUoKVwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCI+U2F1dmVnYXJkZXI8L2J1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L2Zvcm0+XFxuJyArXG4gICAgJzwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcnKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaHRtbC9wb2RjYXN0LWRldGFpbC5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnPGJyLz5cXG4nICtcbiAgICAnPG9sIGNsYXNzPVwiYnJlYWRjcnVtYlwiPlxcbicgK1xuICAgICcgICAgPGxpPjxhIGhyZWY9XCIvIy9wb2RjYXN0c1wiPlBvZGNhc3RzPC9hPjwvbGk+XFxuJyArXG4gICAgJyAgICA8bGk+PGEgY2xhc3M9XCJhY3RpdmVcIj4ge3sgcG9kY2FzdC50aXRsZSB9fTwvYT48L2xpPlxcbicgK1xuICAgICc8L29sPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnXFxuJyArXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTEyIGNvbC1tZC0zIGNvbC1sZy0zXCI+XFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwidGh1bWJuYWlsXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGltZyBuZy1zcmM9XCJ7e3BvZGNhc3QuY292ZXIudXJsfX1cIiB3aWR0aD1cInt7cG9kY2FzdC5jb3Zlci53aWR0aH19XCIgaGVpZ2h0PVwie3twb2RjYXN0LmNvdmVyLmhlaWdodH19XCIgYWx0PVwiXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImNhcHRpb25cIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGg1IGNsYXNzPVwidGV4dC1jZW50ZXIgXCI+PHN0cm9uZz57eyBwb2RjYXN0LnRpdGxlIH19PC9zdHJvbmc+PC9oNT5cXG4nICtcbiAgICAnICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPk5vbWJyZSBkXFwnw6lwaXNvZGUgOiB7e3BvZGNhc3QuaXRlbXMubGVuZ3RoIH19PC9wPlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIGNvbC1zbS0xMiBjb2wtbWQtMTIgY29sLXhzLTEyIHRleHQtY2VudGVyXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVmcmVzaCgpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlZnJlc2hcIj48L3NwYW4+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8YSB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBocmVmPVwiL2FwaS9wb2RjYXN0L3t7IHBvZGNhc3QuaWQgfX0vcnNzXCIgdGFyZ2V0PVwiX2JsYW5rXCI+UlNTPC9hPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICc8L2Rpdj5cXG4nICtcbiAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC04IGNvbC14cy0xMiBjb2wtc20tMTIgY29sLWxnLThcIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8dGFic2V0PlxcbicgK1xuICAgICcgICAgICAgIDx0YWIgbmctcmVwZWF0PVwidGFiIGluIHRhYnNcIiBoZWFkaW5nPVwie3t0YWIudGl0bGV9fVwiIGFjdGl2ZT1cInRhYi5hY3RpdmVcIiBkaXNhYmxlZD1cInRhYi5kaXNhYmxlZFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bmctaW5jbHVkZSBzcmM9XCJ0YWIudGVtcGxhdGVVcmxcIiA+PC9uZy1pbmNsdWRlPlxcbicgK1xuICAgICcgICAgICAgIDwvdGFiPlxcbicgK1xuICAgICcgICAgPC90YWJzZXQ+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnJyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5wYXJ0aWFsJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2h0bWwvcG9kY2FzdC1kZXRhaWxzLWVkaXRpb24uaHRtbCcsXG4gICAgJzxici8+XFxuJyArXG4gICAgJzxhY2NvcmRpb24gY2xvc2Utb3RoZXJzPVwidHJ1ZVwiPlxcbicgK1xuICAgICcgICAgPGFjY29yZGlvbi1ncm91cCBoZWFkaW5nPVwiUG9kY2FzdFwiIGlzLW9wZW49XCJ0cnVlXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGZvcm0gY2xhc3M9XCJmb3JtLWhvcml6b250YWxcIiByb2xlPVwiZm9ybVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRpdGxlXCIgY2xhc3M9XCJjb2wtc20tMiBjb250cm9sLWxhYmVsXCI+VGl0cmU8L2xhYmVsPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJ0aXRsZVwiIG5nLW1vZGVsPVwicG9kY2FzdC50aXRsZVwiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPVwiVGl0cmVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ1cmxcIiBjbGFzcz1cImNvbC1zbS0yIGNvbnRyb2wtbGFiZWxcIj5VUkw8L2xhYmVsPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidXJsXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInVybFwiIG5nLW1vZGVsPVwicG9kY2FzdC51cmxcIiByZXF1aXJlZCBwbGFjZWhvbGRlcj1cInVybFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrYm94IGNvbC1zbS1vZmZzZXQtM1wiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwicG9kY2FzdC5oYXNUb0JlRGVsZXRlZFwiIHJlcXVpcmVkPiBTdXBwcmVzc2lvbiBBdXRvXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ1cmxcIiBjbGFzcz1cImNvbC1zbS0yIGNvbnRyb2wtbGFiZWxcIj5UYWdzPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8dGFncy1pbnB1dCBuZy1tb2RlbD1cInBvZGNhc3QudGFnc1wiIGRpc3BsYXktcHJvcGVydHk9XCJuYW1lXCIgbWluLWxlbmd0aD1cIjFcIiBjbGFzcz1cImJvb3RzdHJhcFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8YXV0by1jb21wbGV0ZSBzb3VyY2U9XCJsb2FkVGFncygkcXVlcnkpXCIgbWluLWxlbmd0aD1cIjJcIj48L2F1dG8tY29tcGxldGU+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC90YWdzLWlucHV0PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImhlaWdodFwiIGNsYXNzPVwiY29sLXNtLTIgY29udHJvbC1sYWJlbFwiID5UeXBlPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIiA+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5nLW1vZGVsPVwicG9kY2FzdC50eXBlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCZUluU3BvcnRzXCI+QmUgSW4gU3BvcnRzPC9vcHRpb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDYW5hbFBsdXNcIj5DYW5hbCs8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkpldXhWaWRlb0ZSXCI+SmV1eCBWaWRlbyBGcjwvb3B0aW9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiUGFybGV5c1wiPlBhcmxleXM8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlJTU1wiPlJTUzwvb3B0aW9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic2VuZFwiPlNlbmQ8L29wdGlvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIllvdXR1YmVcIj5Zb3V0dWJlPC9vcHRpb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS1vZmZzZXQtMiBjb2wtc20tMTBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2F2ZSgpXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj5TYXV2ZWdhcmRlcjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDwvZm9ybT5cXG4nICtcbiAgICAnICAgIDwvYWNjb3JkaW9uLWdyb3VwPlxcbicgK1xuICAgICcgICAgPGFjY29yZGlvbi1ncm91cCBoZWFkaW5nPVwiQ292ZXJcIj5cXG4nICtcbiAgICAnICAgICAgICA8Zm9ybSBjbGFzcz1cImZvcm0taG9yaXpvbnRhbFwiIHJvbGU9XCJmb3JtXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidXJsXCIgY2xhc3M9XCJjb2wtc20tMiBjb250cm9sLWxhYmVsXCI+VVJMPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInVybFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJ1cmxcIiBuZy1tb2RlbD1cInBvZGNhc3QuY292ZXIudXJsXCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCJ1cmxcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ3aWR0aFwiIGNsYXNzPVwiY29sLXNtLTIgY29udHJvbC1sYWJlbFwiPkxhZ2V1cjwvbGFiZWw+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwid2lkdGhcIiBuZy1tb2RlbD1cInBvZGNhc3QuY292ZXIud2lkdGhcIiByZXF1aXJlZCBwbGFjZWhvbGRlcj1cInVybFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImhlaWdodFwiIGNsYXNzPVwiY29sLXNtLTIgY29udHJvbC1sYWJlbFwiPkhhdXRldXI8L2xhYmVsPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImhlaWdodFwiIG5nLW1vZGVsPVwicG9kY2FzdC5jb3Zlci5oZWlnaHRcIiByZXF1aXJlZCBwbGFjZWhvbGRlcj1cInVybFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tb2Zmc2V0LTIgY29sLXNtLTEwXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNhdmUoKVwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCI+U2F1dmVnYXJkZXI8L2J1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Zvcm0+XFxuJyArXG4gICAgJyAgICA8L2FjY29yZGlvbi1ncm91cD5cXG4nICtcbiAgICAnPC9hY2NvcmRpb24+XFxuJyArXG4gICAgJycpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5wYXJ0aWFsJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdodG1sL3BvZGNhc3QtZGV0YWlscy1lcGlzb2Rlcy5odG1sJyxcbiAgICAnXFxuJyArXG4gICAgJzxici8+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICc8ZGl2IGNsYXNzPVwibWVkaWFcIiAgbmctcmVwZWF0PVwiaXRlbSBpbiBwb2RjYXN0Lml0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWQgfCBvcmRlckJ5OnB1YmRhdGVcIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uTGlzdCBwdWxsLXJpZ2h0XCI+XFxuJyArXG4gICAgJyAgICAgICAgPCEtLSBUw6lsw6ljaGFyZ2VtZW50IGVuIGNvdXJzIC0tPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBuZy1pZj1cIml0ZW0uc3RhdHVzID09IFxcJ1N0YXJ0ZWRcXCcgfHwgaXRlbS5zdGF0dXMgPT0gXFwnUGF1c2VkXFwnXCIgPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInRvZ2dsZURvd25sb2FkKGl0ZW0pXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IFwiPjxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbGF5XCI+PC9pPjxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wYXVzZVwiPjwvaT48L2J1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzdG9wRG93bmxvYWQoaXRlbSlcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1zdG9wXCI+PC9zcGFuPjwvYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDwhLS0gTGFuY2VyIGxlIHTDqWzDqWNoYXJnZW1lbnQgLS0+XFxuJyArXG4gICAgJyAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImRvd25sb2FkKGl0ZW0pXCIgbmctaWY9XCIoaXRlbS5zdGF0dXMgIT0gXFwnU3RhcnRlZFxcJyAmJiBpdGVtLnN0YXR1cyAhPSBcXCdQYXVzZWRcXCcgKSAmJiBpdGVtLmxvY2FsVXJsID09IG51bGwgXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXNhdmVcIj48L3NwYW4+PC9idXR0b24+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDwhLS0gQWNjw6lkZXIgYXUgZmljaGllciAtLT5cXG4nICtcbiAgICAnICAgICAgICA8YSBocmVmPVwie3sgaXRlbS51cmwgfX1cIiBuZy1pZj1cIml0ZW0ubG9jYWxVcmwgPT0gbnVsbFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mb1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1nbG9iZVwiPjwvc3Bhbj48L2E+XFxuJyArXG4gICAgJyAgICAgICAgPGEgaHJlZj1cInt7IGl0ZW0ubG9jYWxVcmwgfX1cIiBuZy1pZj1cIml0ZW0ubG9jYWxVcmwgIT0gbnVsbFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbGF5XCI+PC9zcGFuPjwvYT5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPCEtLSBTdXBwcmltZXIgbFxcJ2l0ZW0gLS0+XFxuJyArXG4gICAgJyAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZShpdGVtKVwiIG5nLWlmPVwiKGl0ZW0uc3RhdHVzICE9IFxcJ1N0YXJ0ZWRcXCcgJiYgaXRlbS5zdGF0dXMgIT0gXFwnUGF1c2VkXFwnIClcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9idXR0b24+XFxuJyArXG4gICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8YSBjbGFzcz1cInB1bGwtbGVmdFwiIG5nLWhyZWY9XCIjL2l0ZW0ve3tpdGVtLmlkfX1cIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPGltZyBuZy1zcmM9XCJ7e2l0ZW0uY292ZXIudXJsfX1cIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIHN0eWxlPVwiXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPC9hPlxcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cXG4nICtcbiAgICAnICAgICAgICA8aDQgY2xhc3M9XCJtZWRpYS1oZWFkaW5nXCI+e3tpdGVtLnRpdGxlIHwgY2hhcmFjdGVyczo2MH19PC9oND5cXG4nICtcbiAgICAnICAgICAgICA8cCBjbGFzcz1cImRlc2NyaXB0aW9uIGhpZGRlbi14cyBoaWRkZW4tc20gYnJhbmNoLW5hbWVcIj57e2l0ZW0uZGVzY3JpcHRpb24gfCBodG1sVG9QbGFpbnRleHQgfCBjaGFyYWN0ZXJzIDogMTMwIH19PC9wPlxcbicgK1xuICAgICcgICAgICAgIDxwPjxzdHJvbmc+e3tpdGVtLnB1YmRhdGUgfCBkYXRlIDogXFwnZGQvTU0veXl5eSDDoCBISDptbVxcJyB9fTwvc3Ryb25nPjwvcD5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICc8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAnKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwb2RjYXN0LnBhcnRpYWwnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QucGFydGlhbCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaHRtbC9wb2RjYXN0cy1saXN0Lmh0bWwnLFxuICAgICc8ZGl2IGlkPVwibGlzdEl0ZW1cIiBjbGFzcz1cImNvbnRhaW5lclwiIHN0eWxlPVwibWFyZ2luLXRvcDogMTVweDtcIj5cXG4nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLTYgY29sLXNtLTQgY29sLW1kLTMgY29sLWxnLTNcIiBuZy1yZXBlYXQ9XCJwb2RjYXN0IGluIHBvZGNhc3RzXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aHVtYm5haWxcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxhIG5nLWhyZWY9XCIjL3BvZGNhc3Qve3sgcG9kY2FzdC5pZCB9fVwiID5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8aW1nIG5nLXNyYz1cInt7cG9kY2FzdC5jb3Zlci51cmx9fVwiIHdpZHRoPVwie3twb2RjYXN0LmNvdmVyLndpZHRofX1cIiBoZWlnaHQ9XCJ7e3BvZGNhc3QuY292ZXIuaGVpZ2h0fX1cIiBhbHQ9XCJcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FwdGlvblwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPnt7IHBvZGNhc3QudGl0bGUgfX08L2g1PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9hPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICc8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcnKTtcbn1dKTtcbn0pKCk7XG4iLCJhbmd1bGFyLm1vZHVsZSgncG9kY2FzdC5jb250cm9sbGVyJylcbiAgICAuY29udHJvbGxlcignUG9kY2FzdERldGFpbEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm91dGVQYXJhbXMsIFJlc3Rhbmd1bGFyLCBuZ3N0b21wLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlLCBEb253bG9hZE1hbmFnZXIsICRsb2cpIHtcblxuICAgICAgICB2YXIgaWRQb2RjYXN0ID0gJHJvdXRlUGFyYW1zLnBvZGNhc3RJZCxcbiAgICAgICAgICAgIHRhZ3MgPSBSZXN0YW5ndWxhci5hbGwoXCJ0YWdcIik7XG4gICAgICAgICRzY29wZS50YWJzID0gW1xuICAgICAgICAgICAgeyB0aXRsZTonRXBpc29kZXMnLCB0ZW1wbGF0ZVVybDonaHRtbC9wb2RjYXN0LWRldGFpbHMtZXBpc29kZXMuaHRtbCcsIGFjdGl2ZSA6IHRydWUgfSxcbiAgICAgICAgICAgIHsgdGl0bGU6J01vZGlmaWNhdGlvbicsIHRlbXBsYXRlVXJsOidodG1sL3BvZGNhc3QtZGV0YWlscy1lZGl0aW9uLmh0bWwnLCBhY3RpdmUgOiBmYWxzZSB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gTG9jYWxTdG9yYWdlIGRlIGxhIHZhbGV1ciBkdSBwb2RjYXN0IDpcbiAgICAgICAgJHNjb3BlLiR3YXRjaEdyb3VwKFsncG9kY2FzdCcsICdwb2RjYXN0Lml0ZW1zJ10sIGZ1bmN0aW9uKG5ld3ZhbCwgb2xkdmFsKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmFkZChcInBvZGNhc3QvXCIgKyBpZFBvZGNhc3QsIG5ld3ZhbFswXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5wb2RjYXN0ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJwb2RjYXN0L1wiICsgaWRQb2RjYXN0ICkgfHwge307XG5cbiAgICAgICAgJHNjb3BlLnJlZnJlc2hJdGVtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBvZGNhc3QuZ2V0TGlzdChcIml0ZW1zXCIpLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9kY2FzdC5pdGVtcyA9IGl0ZW1zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgUmVzdGFuZ3VsYXIub25lKFwicG9kY2FzdFwiLCAkcm91dGVQYXJhbXMucG9kY2FzdElkKS5nZXQoKS50aGVuKGZ1bmN0aW9uKHBvZGNhc3QpIHtcbiAgICAgICAgICAgIHBvZGNhc3QuaXRlbXMgPSAkc2NvcGUucG9kY2FzdC5pdGVtcyB8fCBbXTtcbiAgICAgICAgICAgICRzY29wZS5wb2RjYXN0ID0gcG9kY2FzdDtcblxuXG4gICAgICAgICAgICAkc2NvcGUud3NDbGllbnQgPSBuZ3N0b21wKFwiL2Rvd25sb2FkXCIsIFNvY2tKUyk7XG4gICAgICAgICAgICAkc2NvcGUud3NDbGllbnQuY29ubmVjdChcInVzZXJcIiwgXCJwYXNzd29yZFwiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICRzY29wZS53c0NsaWVudC5zdWJzY3JpYmUoXCIvdG9waWMvcG9kY2FzdC9cIiArIGlkUG9kY2FzdCwgZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IEpTT04ucGFyc2UobWVzc2FnZS5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1Ub1VwZGF0ZSA9IF8uZmluZCgkc2NvcGUucG9kY2FzdC5pdGVtcywgeyAnaWQnOiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICBfLmFzc2lnbihlbGVtVG9VcGRhdGUsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUud3NDbGllbnQuZGlzY29ubmVjdChmdW5jdGlvbigpe30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oJHNjb3BlLnJlZnJlc2hJdGVtcyApO1xuXG5cbiAgICAgICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIFJlc3Rhbmd1bGFyLm9uZShcIml0ZW1cIiwgaXRlbS5pZCkucmVtb3ZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9kY2FzdC5pdGVtcyA9IF8ucmVqZWN0KCRzY29wZS5wb2RjYXN0Lml0ZW1zLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZWxlbS5pZCA9PSBpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgUmVzdGFuZ3VsYXIub25lKFwidGFza1wiKS5jdXN0b21QT1NUKCRzY29wZS5wb2RjYXN0LmlkLCBcInVwZGF0ZU1hbmFnZXIvdXBkYXRlUG9kY2FzdC9mb3JjZVwiKVxuICAgICAgICAgICAgICAgIC50aGVuKCRzY29wZS5yZWZyZXNoSXRlbXMgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubG9hZFRhZ3MgPSBmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhZ3MucG9zdChudWxsLCB7bmFtZSA6IHF1ZXJ5fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLmRvd25sb2FkO1xuICAgICAgICAkc2NvcGUuc3RvcERvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLnN0b3BEb3dubG9hZDtcbiAgICAgICAgJHNjb3BlLnRvZ2dsZURvd25sb2FkID0gRG9ud2xvYWRNYW5hZ2VyLnRvZ2dsZURvd25sb2FkO1xuXG4gICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcG9kY2FzdFRvVXBkYXRlID0gXy5jbG9uZURlZXAoJHNjb3BlLnBvZGNhc3QpO1xuICAgICAgICAgICAgcG9kY2FzdFRvVXBkYXRlLml0ZW1zID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5wb2RjYXN0LnBhdGNoKHBvZGNhc3RUb1VwZGF0ZSkudGhlbihmdW5jdGlvbihwYXRjaGVkUG9kY2FzdCl7XG4gICAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhwYXRjaGVkUG9kY2FzdCk7XG4gICAgICAgICAgICAgICAgXy5hc3NpZ24oJHNjb3BlLnBvZGNhc3QsIHBhdGNoZWRQb2RjYXN0KTtcbiAgICAgICAgICAgIH0pLnRoZW4oJHNjb3BlLnJlZnJlc2hJdGVtcyApO1xuICAgICAgICB9O1xuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ3BvZGNhc3QuY29udHJvbGxlcicpXG4gICAgLmNvbnRyb2xsZXIoJ1BvZGNhc3RzTGlzdEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBSZXN0YW5ndWxhciwgbG9jYWxTdG9yYWdlU2VydmljZSkge1xuXG4gICAgICAgICRzY29wZS5wb2RjYXN0cyA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdwb2RjYXN0c2xpc3QnKTtcbiAgICAgICAgUmVzdGFuZ3VsYXIuYWxsKFwicG9kY2FzdFwiKS5nZXRMaXN0KCkudGhlbihmdW5jdGlvbihwb2RjYXN0cykge1xuICAgICAgICAgICAgJHNjb3BlLnBvZGNhc3RzID0gcG9kY2FzdHM7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmFkZCgncG9kY2FzdHNsaXN0JywgcG9kY2FzdHMpO1xuICAgICAgICB9KTtcbiAgICB9KSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==